{"version":3,"sources":["webpack:///1.d4aa85cb6b5163e4ad15.chunk.js","webpack:///./src/app/filter.pipe.ts","webpack:///./src/app/video/index.ts","webpack:///./src/app/video/video-details-page.component.ts","webpack:///./src/app/video/video-details.component.ts","webpack:///./src/app/videos/index.ts","webpack:///./src/app/videos/video-card-item.component.ts","webpack:///./src/app/videos/video-card-list.component.ts","webpack:///./src/app/videos/video-card-loading.component.ts","webpack:///./src/app/videos/video-page.component.ts","webpack:///./src/app/videos/video-relation-item.component.ts","webpack:///./src/app/videos/video-relation-list.component.ts"],"names":["webpackJsonp","990","module","exports","__webpack_require__","core_1","HowlongPipe","prototype","transform","str","replace","__decorate","Pipe","name","__metadata","488","__export","m","p","hasOwnProperty","997","router_1","common_1","facebook_component_1","video_details_component_1","videos_1","video_service_1","VideoDetailsPageComponent","route","videoService","_this","this","keywords","getKeywords","data","subscribe","item","video","i","_i","_a","length","all","_id","ngOnInit","Component","selector","template","directives","VideoDetailsComponent","VideoRelationListComponent","FacebookLikeComponent","CORE_DIRECTIVES","ActivatedRoute","Object","_b","VideoService","998","platform_browser_1","event_service_1","user_service_1","video_directive_1","title","eventService","userService","isChecked","gsub","emitter","com","action","checkFavorite","ngOnDestroy","unsubscribe","currentUser","isFavorite","favorites","findIndex","e","idx","arr","favorite","removeFavorite","v","save","emit","msg","error","addFavorite","ngOnChanges","changes","locationHref","location","href","setTitle","Input","VideoDetails","styles","GoTop","FacebookCommentComponent","FacebookShareComponent","ROUTER_DIRECTIVES","FacebookPlayerComponent","YoutubePlayerComponent","Html5PlayerComponent","Title","_c","_d","EventService","_e","UserService","486","_1","routes","path","component","VideoPageComponent","children","VideoCardListComponent","992","filter_pipe_1","VideoCardItemComponent","sanitizer","url","bypassSecurityTrustUrl","image","VideoCard","host","[class.mdl-card]","[class.mdl-shadow--2dp]","[class.mdl-cell]","[class.mdl-cell--4-col]","[class.mdl-cell--4-col-tablet]","[class.mdl-cell--4-col-phone]","pipes","DomSanitizationService","993","video_card_item_component_1","video_card_loading_component_1","router","cmpResolver","isLoading","isInit","isLastAutoScroll","initPage","query","page","rows","ngAfterViewInit","componentHandler","upgradeDom","nextPage","sub","params","txtSearch","keyword","mode","init","qsub","routerState","queryParams","setTimeout","clearContent","self","fcDone","getMostVideos","videos","drawContent","drawError","getNewestVideos","getHotVideos","searchVideos","getKeywordVideos","err","console","viewContainer","clear","undefined","resolveComponent","then","factory","index","createComponent","injector","instance","ViewChild","read","ViewContainerRef","VideoCardLoadingComponent","Router","_f","ComponentResolver","994","995","video_relation_list_component_1","user_favorite_video_component_1","UserFavoriteVideoComponent","996","VideoRelationItemComponent","991","video_relation_item_component_1","videosRelation","getRelateVideos","id","updateat","String","Number"],"mappings":"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","file":"1.d4aa85cb6b5163e4ad15.chunk.js","sourcesContent":["webpackJsonp([1,2],{\n\n/***/ 990:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar core_1 = __webpack_require__(1);\n\t// Tell Angular2 we're creating a Pipe with TypeScript decorators\n\tvar HowlongPipe = (function () {\n\t    function HowlongPipe() {\n\t    }\n\t    // Transform is the new \"return function(value, args)\" in Angular 1.x\n\t    HowlongPipe.prototype.transform = function (str) {\n\t        if (!str)\n\t            return str;\n\t        return str.replace('H', 'g').replace('M', 'p').replace('S', '\"');\n\t    };\n\t    HowlongPipe = __decorate([\n\t        core_1.Pipe({\n\t            name: 'HowlongPipe'\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], HowlongPipe);\n\t    return HowlongPipe;\n\t}());\n\texports.HowlongPipe = HowlongPipe;\n\n\n/***/ },\n\n/***/ 488:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tfunction __export(m) {\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t}\n\t__export(__webpack_require__(997));\n\n\n/***/ },\n\n/***/ 997:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar core_1 = __webpack_require__(1);\n\tvar router_1 = __webpack_require__(56);\n\tvar common_1 = __webpack_require__(32);\n\tvar facebook_component_1 = __webpack_require__(305);\n\tvar video_details_component_1 = __webpack_require__(998);\n\tvar videos_1 = __webpack_require__(486);\n\tvar video_service_1 = __webpack_require__(87);\n\tvar VideoDetailsPageComponent = (function () {\n\t    function VideoDetailsPageComponent(route, videoService) {\n\t        var _this = this;\n\t        this.route = route;\n\t        this.videoService = videoService;\n\t        this.keywords = this.videoService.getKeywords();\n\t        this.route.data.subscribe(function (data) {\n\t            _this.item = data.video;\n\t            for (var i in _this.item.keywords) {\n\t                for (var _i = 0, _a = _this.keywords; _i < _a.length; _i++) {\n\t                    var all = _a[_i];\n\t                    if (_this.item.keywords[i] === all._id) {\n\t                        _this.item.keywords[i] = all;\n\t                    }\n\t                }\n\t            }\n\t        });\n\t    }\n\t    VideoDetailsPageComponent.prototype.ngOnInit = function () {\n\t    };\n\t    VideoDetailsPageComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'video-details-page',\n\t            template: \"\\n      <div class=\\\"mdl-grid\\\" *ngIf=\\\"item\\\">\\n        <video-details [item] = \\\"item\\\" class=\\\"mdl-cell mdl-cell--8-col mdl-cell--8-col-tablet mdl-cell--4-col-phone mdl-cell--top\\\"></video-details>\\n        <div                       class=\\\"mdl-cell mdl-cell--4-col mdl-cell--8-col-tablet mdl-cell--4-col-phone mdl-cell--top\\\">\\n          <video-relation-list [query]=\\\"{keywords: item.keywords, id: item._id, updateat: item.updateat}\\\" [mode]=\\\"'relation'\\\" [page]=\\\"1\\\" [rows]=\\\"10\\\" class=\\\"mdl-cell mdl-cell--4-col mdl-cell--8-col-tablet mdl-cell--4-col-phone mdl-cell--top\\\"></video-relation-list>\\n        </div>\\n      </div>\\n    \",\n\t            directives: [video_details_component_1.VideoDetailsComponent, videos_1.VideoRelationListComponent, facebook_component_1.FacebookLikeComponent, common_1.CORE_DIRECTIVES]\n\t        }), \n\t        __metadata('design:paramtypes', [(typeof (_a = typeof router_1.ActivatedRoute !== 'undefined' && router_1.ActivatedRoute) === 'function' && _a) || Object, (typeof (_b = typeof video_service_1.VideoService !== 'undefined' && video_service_1.VideoService) === 'function' && _b) || Object])\n\t    ], VideoDetailsPageComponent);\n\t    return VideoDetailsPageComponent;\n\t    var _a, _b;\n\t}());\n\texports.VideoDetailsPageComponent = VideoDetailsPageComponent;\n\n\n/***/ },\n\n/***/ 998:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar core_1 = __webpack_require__(1);\n\tvar router_1 = __webpack_require__(56);\n\tvar platform_browser_1 = __webpack_require__(88);\n\tvar video_service_1 = __webpack_require__(87);\n\tvar event_service_1 = __webpack_require__(49);\n\tvar user_service_1 = __webpack_require__(66);\n\tvar video_directive_1 = __webpack_require__(142);\n\tvar facebook_component_1 = __webpack_require__(305);\n\tvar VideoDetailsComponent = (function () {\n\t    function VideoDetailsComponent(title, videoService, eventService, userService) {\n\t        this.title = title;\n\t        this.videoService = videoService;\n\t        this.eventService = eventService;\n\t        this.userService = userService;\n\t        this.isChecked = false;\n\t    }\n\t    VideoDetailsComponent.prototype.ngOnInit = function () {\n\t        var _this = this;\n\t        this.gsub = this.eventService.emitter.subscribe(function (data) {\n\t            if (data.com === 'facebook') {\n\t                if (data.action === 'login') {\n\t                    if (data.data) {\n\t                        _this.checkFavorite();\n\t                    }\n\t                }\n\t            }\n\t        });\n\t    };\n\t    VideoDetailsComponent.prototype.ngOnDestroy = function () {\n\t        this.gsub.unsubscribe();\n\t    };\n\t    VideoDetailsComponent.prototype.checkFavorite = function () {\n\t        var _this = this;\n\t        if (!this.userService.currentUser)\n\t            return;\n\t        this.isChecked = true;\n\t        this.isFavorite = this.userService.currentUser.favorites.findIndex(function (e, idx, arr) {\n\t            if (e._id === _this.item._id)\n\t                return true;\n\t            return false;\n\t        }) != -1;\n\t    };\n\t    VideoDetailsComponent.prototype.favorite = function () {\n\t        var _this = this;\n\t        if (!this.isFavorite) {\n\t            this.videoService.addFavorite(this.item).subscribe(function (v) {\n\t                if (v.length > 0) {\n\t                    _this.userService.currentUser.favorites = v;\n\t                    _this.userService.save();\n\t                    _this.eventService.emit({ com: 'snack-bar', msg: 'Đã thêm vào danh sách yêu thích' });\n\t                }\n\t                else {\n\t                    _this.eventService.emit({ com: 'snack-bar', msg: 'Có lỗi trong quá trình xử lý' });\n\t                }\n\t            }, function (error) { return _this.eventService.emit({ com: 'snack-bar', msg: 'Có lỗi trong quá trình xử lý' }); });\n\t        }\n\t        else {\n\t            this.videoService.removeFavorite(this.item._id).subscribe(function (v) {\n\t                _this.userService.currentUser.favorites = v;\n\t                _this.userService.save();\n\t                _this.eventService.emit({ com: 'snack-bar', msg: 'Đã xóa khỏi danh sách yêu thích' });\n\t            }, function (error) { return _this.eventService.emit({ com: 'snack-bar', msg: 'Có lỗi trong quá trình xử lý' }); });\n\t        }\n\t        this.isFavorite = !this.isFavorite;\n\t    };\n\t    VideoDetailsComponent.prototype.ngOnChanges = function (changes) {\n\t        this.locationHref = location.href;\n\t        this.title.setTitle(this.item.title);\n\t        this.checkFavorite();\n\t        this.isChecked = false;\n\t    };\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', (typeof (_a = typeof video_service_1.VideoDetails !== 'undefined' && video_service_1.VideoDetails) === 'function' && _a) || Object)\n\t    ], VideoDetailsComponent.prototype, \"item\", void 0);\n\t    VideoDetailsComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'video-details',\n\t            template: \"\\n      <div class=\\\"mdl-card mdl-cell--12-col\\\" *ngIf=\\\"item\\\">\\n        <div class=\\\"mdl-card__title mdl-card--expand\\\">\\n          <h2 class=\\\"mdl-card__title-text\\\">{{item.title}}</h2>\\n        </div>\\n        <div class=\\\"mdl-card__supporting-text\\\" style=\\\"width: initial;\\\">          \\n          <div class=\\\"mdl-grid mdl-grid--no-spacing\\\">\\n            <div class=\\\"mdl-cell mdl-cell--8-col mdl-cell--5-col-tablet mdl-cell--4-col-phone mdl-cell--top\\\">\\n              <i class=\\\"material-icons dp48\\\">tag_faces</i>\\n              &nbsp;{{item.creator}}&nbsp;&nbsp;\\n              <i class=\\\"material-icons dp48\\\">alarm_on</i>\\n              &nbsp;{{item.nowOnTime}}&nbsp;&nbsp;\\n              <i class=\\\"material-icons dp48\\\">alarm</i>\\n              &nbsp;14p40\\\"&nbsp;&nbsp;\\n            </div>\\n            <div class=\\\"mdl-cell mdl-cell--4-col mdl-cell--3-col-tablet mdl-cell--4-col-phone mdl-cell--top facebook-share\\\" align=\\\"right\\\">\\n              <button id=\\\"btnFavorite\\\" class=\\\"mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect mdl-button--primary\\\" (click)=\\\"favorite($event)\\\" title=\\\"{{isFavorite ? 'X\\u00F3a kh\\u1ECFi': 'Th\\u00EAm v\\u00E0o'}} danh s\\u00E1ch y\\u00EAu th\\u00EDch\\\">\\n                <i class=\\\"material-icons\\\" *ngIf=\\\"!isFavorite\\\">favorite_border</i>\\n                <i class=\\\"material-icons\\\" *ngIf=\\\"isFavorite\\\" title=\\\"\\\">favorite</i>\\n              </button>\\n              <facebook-share [title]=\\\"item.title\\\" [description]=[item.title] [picture]=\\\"item.image\\\" [caption]=\\\"abc\\\"></facebook-share>              \\n            </div>\\n          </div>\\n        </div>\\n        <div class=\\\"videoWrapper\\\">        \\n          <youtube-player [link]=\\\"item.link\\\" *ngIf=\\\"item.youtubeid\\\"></youtube-player>\\n          <facebook-player [link]=\\\"item.link\\\" *ngIf=\\\"item.facebookid\\\"></facebook-player>\\n          <html5-player [link]=\\\"item.link\\\" *ngIf=\\\"!item.youtubeid && !item.facebookid\\\"></html5-player>          \\n        </div>\\n        <div class=\\\"keywords\\\">\\n          <a *ngFor=\\\"let k of item.keywords\\\" go-top style=\\\"float: left;\\\" class=\\\"mdl-button mdl-js-button\\\" [routerLink]=\\\"['/k/'+k._id]\\\">{{k.name}}</a>\\n        </div>\\n        <hr style=\\\"clear: both\\\"/>\\n        <facebook-comment [link]=\\\"locationHref\\\"></facebook-comment>\\n      </div>\\n    \",\n\t            styles: ['.mdl-card__supporting-text, .mdl-card__supporting-text i {font-size: 12px}'],\n\t            directives: [video_directive_1.GoTop, facebook_component_1.FacebookCommentComponent, facebook_component_1.FacebookShareComponent, router_1.ROUTER_DIRECTIVES, facebook_component_1.FacebookPlayerComponent, facebook_component_1.YoutubePlayerComponent, facebook_component_1.Html5PlayerComponent]\n\t        }), \n\t        __metadata('design:paramtypes', [(typeof (_b = typeof platform_browser_1.Title !== 'undefined' && platform_browser_1.Title) === 'function' && _b) || Object, (typeof (_c = typeof video_service_1.VideoService !== 'undefined' && video_service_1.VideoService) === 'function' && _c) || Object, (typeof (_d = typeof event_service_1.EventService !== 'undefined' && event_service_1.EventService) === 'function' && _d) || Object, (typeof (_e = typeof user_service_1.UserService !== 'undefined' && user_service_1.UserService) === 'function' && _e) || Object])\n\t    ], VideoDetailsComponent);\n\t    return VideoDetailsComponent;\n\t    var _a, _b, _c, _d, _e;\n\t}());\n\texports.VideoDetailsComponent = VideoDetailsComponent;\n\n\n/***/ },\n\n/***/ 486:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tfunction __export(m) {\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t}\n\t__export(__webpack_require__(991));\n\t__export(__webpack_require__(993));\n\t__export(__webpack_require__(995));\n\tvar _1 = __webpack_require__(486);\n\texports.routes = { path: '', component: _1.VideoPageComponent,\n\t    children: [\n\t        { path: '', component: _1.VideoCardListComponent },\n\t        { path: 'v/:mode', component: _1.VideoCardListComponent },\n\t        { path: 'k/:keyword', component: _1.VideoCardListComponent },\n\t        { path: 'search/:txtSearch', component: _1.VideoCardListComponent }\n\t    ]\n\t};\n\n\n/***/ },\n\n/***/ 992:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar core_1 = __webpack_require__(1);\n\tvar router_1 = __webpack_require__(56);\n\tvar platform_browser_1 = __webpack_require__(88);\n\tvar video_service_1 = __webpack_require__(87);\n\tvar video_directive_1 = __webpack_require__(142);\n\tvar filter_pipe_1 = __webpack_require__(990);\n\tvar VideoCardItemComponent = (function () {\n\t    function VideoCardItemComponent(sanitizer) {\n\t        this.sanitizer = sanitizer;\n\t    }\n\t    VideoCardItemComponent.prototype.ngOnInit = function () {\n\t        this.url = this.sanitizer.bypassSecurityTrustUrl(this.item.image);\n\t    };\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', (typeof (_a = typeof video_service_1.VideoCard !== 'undefined' && video_service_1.VideoCard) === 'function' && _a) || Object)\n\t    ], VideoCardItemComponent.prototype, \"item\", void 0);\n\t    VideoCardItemComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'video-card-item',\n\t            template: \"\\n    <a [routerLink]=\\\"['/'+item._id+'/'+item.title0]\\\" class=\\\"nothing\\\" go-top>\\n      <div class=\\\"mdl-card__title\\\">\\n         <h4 class=\\\"mdl-card__title-text main-color\\\">{{item.title}}</h4>\\n      </div>      \\n      <div class=\\\"mdl-card__media\\\">\\n        <img [src]=\\\"url\\\">\\n      </div>\\n      <div class=\\\"howlong\\\" *ngIf=\\\"item.duration\\\"><i class=\\\"material-icons dp48\\\">alarm</i>{{item.duration | HowlongPipe}}</div>\\n      <div class=\\\"mdl-card__supporting-text icon-des mdl-grid des-color\\\">\\n        <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--4-col-tablet mdl-cell--2-col-phone ellipsis-1\\\" title=\\\"{{item.creator}}\\\"><i class=\\\"material-icons dp48\\\">tag_faces</i> {{item.creator}}</div>\\n        <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--4-col-tablet mdl-cell--2-col-phone ellipsis-1\\\" title=\\\"{{item.nowOnTime}}\\\"><i class=\\\"material-icons dp48\\\">alarm_on</i> {{item.nowOnTime}}</div>\\n      </div>\\n    </a>\\n    \",\n\t            host: {\n\t                '[class.mdl-card]': 'true',\n\t                '[class.mdl-shadow--2dp]': 'true',\n\t                '[class.mdl-cell]': 'true',\n\t                '[class.mdl-cell--4-col]': 'true',\n\t                '[class.mdl-cell--4-col-tablet]': 'true',\n\t                '[class.mdl-cell--4-col-phone]': 'true'\n\t            },\n\t            pipes: [filter_pipe_1.HowlongPipe],\n\t            directives: [video_directive_1.GoTop, router_1.ROUTER_DIRECTIVES]\n\t        }), \n\t        __metadata('design:paramtypes', [(typeof (_b = typeof platform_browser_1.DomSanitizationService !== 'undefined' && platform_browser_1.DomSanitizationService) === 'function' && _b) || Object])\n\t    ], VideoCardItemComponent);\n\t    return VideoCardItemComponent;\n\t    var _a, _b;\n\t}());\n\texports.VideoCardItemComponent = VideoCardItemComponent;\n\n\n/***/ },\n\n/***/ 993:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar core_1 = __webpack_require__(1);\n\tvar router_1 = __webpack_require__(56);\n\tvar platform_browser_1 = __webpack_require__(88);\n\tvar event_service_1 = __webpack_require__(49);\n\tvar video_service_1 = __webpack_require__(87);\n\tvar video_directive_1 = __webpack_require__(142);\n\tvar video_card_item_component_1 = __webpack_require__(992);\n\tvar video_card_loading_component_1 = __webpack_require__(994);\n\tvar VideoCardListComponent = (function () {\n\t    function VideoCardListComponent(router, route, title, videoService, eventService, cmpResolver) {\n\t        this.router = router;\n\t        this.route = route;\n\t        this.title = title;\n\t        this.videoService = videoService;\n\t        this.eventService = eventService;\n\t        this.cmpResolver = cmpResolver;\n\t        this.isLoading = false;\n\t        this.isInit = false;\n\t        this.isLastAutoScroll = false;\n\t        this.initPage = 1;\n\t        this.query = {};\n\t        this.page = 1;\n\t        this.rows = 12;\n\t    }\n\t    VideoCardListComponent.prototype.ngAfterViewInit = function () {\n\t        componentHandler.upgradeDom();\n\t    };\n\t    VideoCardListComponent.prototype.ngOnChanges = function (changes) {\n\t        var _this = this;\n\t        this.nextPage(this, function () {\n\t            _this.eventService.emit({ com: 'video-card-list', action: 'loaded' });\n\t        });\n\t    };\n\t    VideoCardListComponent.prototype.ngOnInit = function () {\n\t        var _this = this;\n\t        this.gsub = this.eventService.emitter.subscribe(function (data) {\n\t            if (data.com === 'video-card-list') {\n\t                if (data.action === 'append') {\n\t                    _this.page++;\n\t                    _this.nextPage(_this, function () {\n\t                        _this.eventService.emit({ com: 'video-card-list', action: 'loaded' });\n\t                        if (_this.page > _this.initPage && (_this.page - _this.initPage) % 2 === 0) {\n\t                            _this.isLastAutoScroll = true;\n\t                            return _this.eventService.emit({ com: 'video-card-list', action: 'stop' });\n\t                        }\n\t                    });\n\t                }\n\t            }\n\t        });\n\t        this.sub = this.route.params.subscribe(function (params) {\n\t            var txtSearch = params['txtSearch'];\n\t            var keyword = params['keyword'];\n\t            if (txtSearch) {\n\t                _this.mode = 'search';\n\t                _this.query.txtSearch = txtSearch;\n\t                _this.title.setTitle(txtSearch + '***');\n\t            }\n\t            else if (keyword) {\n\t                _this.mode = 'keyword';\n\t                _this.query.keyword = keyword;\n\t                _this.title.setTitle(keyword);\n\t            }\n\t            else {\n\t                _this.mode = params['mode'] || 'newest';\n\t                if (_this.mode === 'most') {\n\t                    _this.title.setTitle('Xem nhiều nhất');\n\t                }\n\t                else if (_this.mode === 'hot') {\n\t                    _this.title.setTitle('Clip HOT nhất');\n\t                }\n\t                else {\n\t                    _this.title.setTitle('ClipVNet - kênh video giải trí');\n\t                }\n\t            }\n\t            _this.init();\n\t        });\n\t        this.qsub = this.router.routerState.queryParams.subscribe(function (params) {\n\t            _this.initPage = +params.page || 1;\n\t            _this.page = _this.initPage;\n\t            _this.isLastAutoScroll = false;\n\t            _this.init();\n\t        });\n\t    };\n\t    VideoCardListComponent.prototype.init = function () {\n\t        var _this = this;\n\t        if (this.isInit)\n\t            return;\n\t        this.isInit = true;\n\t        setTimeout(function () {\n\t            _this.clearContent(_this);\n\t            _this.eventService.emit({ com: 'video-card-list', action: 'start' });\n\t            _this.nextPage(_this, function () {\n\t                _this.isInit = false;\n\t                _this.eventService.emit({ com: 'video-card-list', action: 'loaded' });\n\t            });\n\t        }, 100);\n\t    };\n\t    VideoCardListComponent.prototype.ngOnDestroy = function () {\n\t        this.gsub.unsubscribe();\n\t        this.qsub.unsubscribe();\n\t        this.sub.unsubscribe();\n\t    };\n\t    VideoCardListComponent.prototype.nextPage = function (self, fcDone) {\n\t        self.isLoading = true;\n\t        self.eventService.emit({ com: 'page-loading', action: 1 });\n\t        if (self.mode === 'most') {\n\t            self.videoService.getMostVideos({ page: self.page, rows: self.rows }).subscribe(function (videos) {\n\t                self.drawContent(self, videos, fcDone);\n\t            }, self.drawError);\n\t        }\n\t        else if (self.mode === 'newest') {\n\t            self.videoService.getNewestVideos({ page: self.page, rows: self.rows }).subscribe(function (videos) {\n\t                self.drawContent(self, videos, fcDone);\n\t            }, self.drawError);\n\t        }\n\t        else if (self.mode === 'hot') {\n\t            self.videoService.getHotVideos({ page: self.page, rows: self.rows }).subscribe(function (videos) {\n\t                self.drawContent(self, videos, fcDone);\n\t            }, self.drawError);\n\t        }\n\t        else if (self.mode === 'search') {\n\t            self.videoService.searchVideos(self.query.txtSearch, { page: self.page, rows: self.rows }).subscribe(function (videos) {\n\t                self.drawContent(self, videos, fcDone);\n\t            }, self.drawError);\n\t        }\n\t        else if (self.mode === 'keyword') {\n\t            self.videoService.getKeywordVideos(self.query.keyword, { page: self.page, rows: self.rows }).subscribe(function (videos) {\n\t                self.drawContent(self, videos, fcDone);\n\t            }, self.drawError);\n\t        }\n\t    };\n\t    VideoCardListComponent.prototype.drawError = function (err) {\n\t        console.error(err);\n\t    };\n\t    VideoCardListComponent.prototype.clearContent = function (self) {\n\t        self.viewContainer.clear();\n\t    };\n\t    VideoCardListComponent.prototype.drawContent = function (self, videos, fcDone) {\n\t        if (videos.length === 0) {\n\t            this.isLoading = undefined;\n\t            return fcDone();\n\t        }\n\t        self.cmpResolver.resolveComponent(video_card_item_component_1.VideoCardItemComponent)\n\t            .then(function (factory) {\n\t            var index = self.viewContainer.length;\n\t            for (var i in videos) {\n\t                var com = self.viewContainer.createComponent(factory, index++, self.viewContainer.injector);\n\t                com.instance.item = videos[i];\n\t            }\n\t            self.isLoading = false;\n\t            self.eventService.emit({ com: 'page-loading', action: 0 });\n\t            fcDone();\n\t        });\n\t    };\n\t    __decorate([\n\t        core_1.ViewChild('viewContainer', { read: core_1.ViewContainerRef }), \n\t        __metadata('design:type', Object)\n\t    ], VideoCardListComponent.prototype, \"viewContainer\", void 0);\n\t    VideoCardListComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'video-card-list',\n\t            template: \"\\n      <div class=\\\"android-card-container mdl-grid\\\" id=\\\"mainContent0\\\">\\n          <div #viewContainer></div>\\n          <video-card-loading [hidden]=\\\"!isLoading\\\"></video-card-loading>\\n      </div>      \\n      <div *ngIf=\\\"isLastAutoScroll\\\" align=\\\"center\\\" class=\\\"isLastAutoScroll\\\">\\n        <button class=\\\"mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored\\\" go-top [routerLink]=\\\"['/v/'+mode]\\\" [queryParams]=\\\"{page: page+1}\\\">\\n          <i class=\\\"normal material-icons\\\">hdr_weak</i>\\n          <i class=\\\"hover material-icons\\\">hdr_strong</i>\\n        </button>\\n      </div>\\n    \",\n\t            styles: [\n\t                'button { position: relative; margin-bottom: -90px; }',\n\t                'button i.hover { display: none; }',\n\t                'button:hover i.hover { display: block; }',\n\t                'button:hover i.normal { display: none; }'\n\t            ],\n\t            directives: [video_card_item_component_1.VideoCardItemComponent, video_card_loading_component_1.VideoCardLoadingComponent, router_1.ROUTER_DIRECTIVES, video_directive_1.GoTop]\n\t        }), \n\t        __metadata('design:paramtypes', [(typeof (_a = typeof router_1.Router !== 'undefined' && router_1.Router) === 'function' && _a) || Object, (typeof (_b = typeof router_1.ActivatedRoute !== 'undefined' && router_1.ActivatedRoute) === 'function' && _b) || Object, (typeof (_c = typeof platform_browser_1.Title !== 'undefined' && platform_browser_1.Title) === 'function' && _c) || Object, (typeof (_d = typeof video_service_1.VideoService !== 'undefined' && video_service_1.VideoService) === 'function' && _d) || Object, (typeof (_e = typeof event_service_1.EventService !== 'undefined' && event_service_1.EventService) === 'function' && _e) || Object, (typeof (_f = typeof core_1.ComponentResolver !== 'undefined' && core_1.ComponentResolver) === 'function' && _f) || Object])\n\t    ], VideoCardListComponent);\n\t    return VideoCardListComponent;\n\t    var _a, _b, _c, _d, _e, _f;\n\t}());\n\texports.VideoCardListComponent = VideoCardListComponent;\n\n\n/***/ },\n\n/***/ 994:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar core_1 = __webpack_require__(1);\n\tvar VideoCardLoadingComponent = (function () {\n\t    function VideoCardLoadingComponent() {\n\t    }\n\t    VideoCardLoadingComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'video-card-loading',\n\t            template: \"\\n      <img src=\\\"/assets/img/loading.gif\\\" class=\\\"inner\\\" />\\n    \",\n\t            host: {\n\t                '[class.mdl-card]': 'true',\n\t                '[class.mdl-cell]': 'true',\n\t                '[class.mdl-cell--4-col]': 'true',\n\t                '[class.mdl-cell--4-col-tablet]': 'true',\n\t                '[class.mdl-cell--4-col-phone]': 'true'\n\t            }\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], VideoCardLoadingComponent);\n\t    return VideoCardLoadingComponent;\n\t}());\n\texports.VideoCardLoadingComponent = VideoCardLoadingComponent;\n\n\n/***/ },\n\n/***/ 995:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar core_1 = __webpack_require__(1);\n\tvar common_1 = __webpack_require__(32);\n\tvar router_1 = __webpack_require__(56);\n\tvar video_relation_list_component_1 = __webpack_require__(991);\n\tvar facebook_component_1 = __webpack_require__(305);\n\tvar user_favorite_video_component_1 = __webpack_require__(487);\n\tvar event_service_1 = __webpack_require__(49);\n\tvar VideoPageComponent = (function () {\n\t    function VideoPageComponent(eventService) {\n\t        this.eventService = eventService;\n\t    }\n\t    VideoPageComponent.prototype.ngOnInit = function () {\n\t    };\n\t    VideoPageComponent.prototype.ngOnDestroy = function () {\n\t        this.eventService.emit({ com: 'video-card-list', action: 'stop' });\n\t    };\n\t    VideoPageComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'video-page',\n\t            template: \"\\n      <div class=\\\"mdl-grid\\\">\\n        <div class=\\\"mdl-cell mdl-cell--8-col mdl-cell--8-col-tablet mdl-cell--4-col-phone mdl-cell--top\\\">                 \\n          <router-outlet></router-outlet>\\n        </div>\\n        <div                class=\\\"mdl-cell mdl-cell--4-col mdl-cell--8-col-tablet mdl-cell--4-col-phone mdl-cell--top\\\">\\n          <facebook-like *xl class=\\\"mdl-card\\\"></facebook-like>\\n          <br/>\\n          <br/>\\n          <div class=\\\"fixed-col\\\">\\n            <user-favorite-video [rows]=\\\"3\\\"></user-favorite-video>\\n            <br/>\\n            <br/>\\n            <video-relation-list [mode]=\\\"'most'\\\" [page]=\\\"1\\\" [rows]=\\\"8\\\"></video-relation-list>\\n            <br/>\\n            <br/>\\n            <video-relation-list [mode]=\\\"'hot'\\\" [page]=\\\"1\\\" [rows]=\\\"8\\\"></video-relation-list>\\n          </div>\\n        </div>\\n      </div>\\n    \",\n\t            directives: [video_relation_list_component_1.VideoRelationListComponent, facebook_component_1.FacebookLikeComponent, common_1.CORE_DIRECTIVES, router_1.ROUTER_DIRECTIVES, user_favorite_video_component_1.UserFavoriteVideoComponent]\n\t        }), \n\t        __metadata('design:paramtypes', [(typeof (_a = typeof event_service_1.EventService !== 'undefined' && event_service_1.EventService) === 'function' && _a) || Object])\n\t    ], VideoPageComponent);\n\t    return VideoPageComponent;\n\t    var _a;\n\t}());\n\texports.VideoPageComponent = VideoPageComponent;\n\n\n/***/ },\n\n/***/ 996:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar core_1 = __webpack_require__(1);\n\tvar router_1 = __webpack_require__(56);\n\tvar video_service_1 = __webpack_require__(87);\n\tvar video_directive_1 = __webpack_require__(142);\n\tvar filter_pipe_1 = __webpack_require__(990);\n\tvar VideoRelationItemComponent = (function () {\n\t    function VideoRelationItemComponent() {\n\t    }\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', (typeof (_a = typeof video_service_1.VideoCard !== 'undefined' && video_service_1.VideoCard) === 'function' && _a) || Object)\n\t    ], VideoRelationItemComponent.prototype, \"item\", void 0);\n\t    VideoRelationItemComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'video-relation-item',\n\t            template: \"\\n      <li class=\\\"mdl-list__item mdl-list__item--three-line\\\">\\n        <a class=\\\"mdl-list__item-primary-content nothing\\\" [routerLink]=\\\"['/'+item._id+'/'+item.title0]\\\" go-top>          \\n          <div class=\\\"img-des\\\">\\n            <img src=\\\"{{item.image}}\\\" width=\\\"80\\\" class=\\\"rounded\\\" *ngIf=\\\"!item.youtubeid\\\">\\n            <img src=\\\"http://i.ytimg.com/vi/{{item.youtubeid}}/1.jpg\\\" width=\\\"80\\\" style=\\\"float: left; margin-right: 5px;\\\" class=\\\"rounded\\\" *ngIf=\\\"item.youtubeid\\\">                    \\n            <div class=\\\"howlong\\\"><i class=\\\"material-icons dp48\\\">alarm</i>{{item.duration | HowlongPipe}}</div>\\n          </div>\\n          <div class=\\\"main-color title\\\">{{item.title}}</div>\\n          <span class=\\\"mdl-list__item-text-body des-color\\\">\\n            <i class=\\\"material-icons dp48\\\">alarm_on</i> {{item.nowOnTime}}\\n          </span>\\n        </a>\\n      </li>\\n    \",\n\t            pipes: [filter_pipe_1.HowlongPipe],\n\t            directives: [router_1.ROUTER_DIRECTIVES, video_directive_1.GoTop]\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], VideoRelationItemComponent);\n\t    return VideoRelationItemComponent;\n\t    var _a;\n\t}());\n\texports.VideoRelationItemComponent = VideoRelationItemComponent;\n\n\n/***/ },\n\n/***/ 991:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar core_1 = __webpack_require__(1);\n\tvar video_service_1 = __webpack_require__(87);\n\tvar video_relation_item_component_1 = __webpack_require__(996);\n\tvar VideoRelationListComponent = (function () {\n\t    function VideoRelationListComponent(videoService) {\n\t        this.videoService = videoService;\n\t        this.query = {};\n\t        this.videosRelation = [];\n\t    }\n\t    VideoRelationListComponent.prototype.ngOnChanges = function (changes) {\n\t        var _this = this;\n\t        if (this.mode === 'relation') {\n\t            this.title = 'Video liên quan';\n\t            this.videoService.getRelateVideos(this.query.id, this.query.keywords, this.query.updateat, { page: this.page, rows: this.rows }).subscribe(function (videos) { _this.videosRelation = videos; }, function (error) { return console.error(error); });\n\t        }\n\t    };\n\t    VideoRelationListComponent.prototype.ngOnInit = function () {\n\t        var _this = this;\n\t        if (this.mode === 'most') {\n\t            this.title = 'Video xem nhiều nhất';\n\t            this.videoService.getMostVideos({ page: this.page, rows: this.rows }).subscribe(function (videos) { _this.videosRelation = videos; }, function (error) { return console.error(error); });\n\t        }\n\t        else if (this.mode === 'hot') {\n\t            this.title = 'Video hot';\n\t            this.videoService.getHotVideos({ page: this.page, rows: this.rows }).subscribe(function (videos) { _this.videosRelation = videos; }, function (error) { return console.error(error); });\n\t        }\n\t    };\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', String)\n\t    ], VideoRelationListComponent.prototype, \"mode\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Number)\n\t    ], VideoRelationListComponent.prototype, \"page\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Number)\n\t    ], VideoRelationListComponent.prototype, \"rows\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Object)\n\t    ], VideoRelationListComponent.prototype, \"query\", void 0);\n\t    VideoRelationListComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'video-relation-list',\n\t            template: \"\\n      <div class=\\\"mdl-card mdl-shadow--2dp\\\">\\n        <div class=\\\"mdl-card__title mdl-card--border\\\">\\n          <h6 class=\\\"mdl-card__title-text\\\">{{title}}</h6>\\n          <div class=\\\"mdl-layout-spacer\\\"></div>\\n          <i class=\\\"material-icons mdl-list__item-icon\\\">videocam</i>\\n        </div>\\n        <ul class=\\\"mdl-list\\\">\\n          <video-relation-item style=\\\"width: 100%\\\" *ngFor=\\\"let v of videosRelation\\\" [item]=\\\"v\\\"></video-relation-item>\\n        </ul>\\n      </div>\\n    \",\n\t            directives: [video_relation_item_component_1.VideoRelationItemComponent]\n\t        }), \n\t        __metadata('design:paramtypes', [(typeof (_a = typeof video_service_1.VideoService !== 'undefined' && video_service_1.VideoService) === 'function' && _a) || Object])\n\t    ], VideoRelationListComponent);\n\t    return VideoRelationListComponent;\n\t    var _a;\n\t}());\n\texports.VideoRelationListComponent = VideoRelationListComponent;\n\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** 1.d4aa85cb6b5163e4ad15.chunk.js\n **/","import {Pipe, PipeTransform} from '@angular/core';\n\n// Tell Angular2 we're creating a Pipe with TypeScript decorators\n@Pipe({\n  name: 'HowlongPipe'\n})\nexport class HowlongPipe implements PipeTransform {\n\n  // Transform is the new \"return function(value, args)\" in Angular 1.x\n  transform(str: any) {  \t\n  \tif(!str) return str;\n    return str.replace('H', 'g').replace('M', 'p').replace('S', '\"');\n  }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/filter.pipe.ts\n **/","export * from './video-details-page.component';\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/video/index.ts\n **/","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { CORE_DIRECTIVES } from '@angular/common';\n\nimport { FacebookLikeComponent } from '../facebook.component';\nimport { VideoDetailsComponent } from './video-details.component';\nimport { VideoRelationListComponent } from '../videos';\nimport { VideoDetails, VideoService } from '../video.service';\n\n@Component({\n    selector: 'video-details-page',\n    template: `\n      <div class=\"mdl-grid\" *ngIf=\"item\">\n        <video-details [item] = \"item\" class=\"mdl-cell mdl-cell--8-col mdl-cell--8-col-tablet mdl-cell--4-col-phone mdl-cell--top\"></video-details>\n        <div                       class=\"mdl-cell mdl-cell--4-col mdl-cell--8-col-tablet mdl-cell--4-col-phone mdl-cell--top\">\n          <video-relation-list [query]=\"{keywords: item.keywords, id: item._id, updateat: item.updateat}\" [mode]=\"'relation'\" [page]=\"1\" [rows]=\"10\" class=\"mdl-cell mdl-cell--4-col mdl-cell--8-col-tablet mdl-cell--4-col-phone mdl-cell--top\"></video-relation-list>\n        </div>\n      </div>\n    `,\n    directives: [VideoDetailsComponent, VideoRelationListComponent, FacebookLikeComponent, CORE_DIRECTIVES]\n})\nexport class VideoDetailsPageComponent implements OnInit { \n  item: VideoDetails;\n  sub: any;\n  keywords: Array<any>;\n\n  constructor(private route: ActivatedRoute, private videoService: VideoService){\n    this.keywords = this.videoService.getKeywords();\n    this.route.data.subscribe((data: any) => {      \n      this.item = data.video;\n      for(let i in this.item.keywords){\n        for(let all of this.keywords){\n          if(this.item.keywords[i] === all._id){\n            this.item.keywords[i] = all;\n          }\n        } \n      }\n    });\n  }\n\n  ngOnInit(){\n\n  }\n\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/video/video-details-page.component.ts\n **/","import { Component, Input, OnInit, OnChanges, SimpleChange, OnDestroy } from '@angular/core';\nimport { ROUTER_DIRECTIVES } from '@angular/router';\nimport { Title } from '@angular/platform-browser';\n\nimport { VideoDetails, VideoService } from '../video.service';\nimport { EventService } from '../event.service';\nimport { UserService } from '../user.service';\nimport { GoTop } from '../video.directive';\nimport { FacebookCommentComponent, FacebookShareComponent, FacebookPlayerComponent, YoutubePlayerComponent, Html5PlayerComponent } from '../facebook.component';\n\ndeclare const location: any;\n\n@Component({\n    selector: 'video-details',\n    template: `\n      <div class=\"mdl-card mdl-cell--12-col\" *ngIf=\"item\">\n        <div class=\"mdl-card__title mdl-card--expand\">\n          <h2 class=\"mdl-card__title-text\">{{item.title}}</h2>\n        </div>\n        <div class=\"mdl-card__supporting-text\" style=\"width: initial;\">          \n          <div class=\"mdl-grid mdl-grid--no-spacing\">\n            <div class=\"mdl-cell mdl-cell--8-col mdl-cell--5-col-tablet mdl-cell--4-col-phone mdl-cell--top\">\n              <i class=\"material-icons dp48\">tag_faces</i>\n              &nbsp;{{item.creator}}&nbsp;&nbsp;\n              <i class=\"material-icons dp48\">alarm_on</i>\n              &nbsp;{{item.nowOnTime}}&nbsp;&nbsp;\n              <i class=\"material-icons dp48\">alarm</i>\n              &nbsp;14p40\"&nbsp;&nbsp;\n            </div>\n            <div class=\"mdl-cell mdl-cell--4-col mdl-cell--3-col-tablet mdl-cell--4-col-phone mdl-cell--top facebook-share\" align=\"right\">\n              <button id=\"btnFavorite\" class=\"mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect mdl-button--primary\" (click)=\"favorite($event)\" title=\"{{isFavorite ? 'Xóa khỏi': 'Thêm vào'}} danh sách yêu thích\">\n                <i class=\"material-icons\" *ngIf=\"!isFavorite\">favorite_border</i>\n                <i class=\"material-icons\" *ngIf=\"isFavorite\" title=\"\">favorite</i>\n              </button>\n              <facebook-share [title]=\"item.title\" [description]=[item.title] [picture]=\"item.image\" [caption]=\"abc\"></facebook-share>              \n            </div>\n          </div>\n        </div>\n        <div class=\"videoWrapper\">        \n          <youtube-player [link]=\"item.link\" *ngIf=\"item.youtubeid\"></youtube-player>\n          <facebook-player [link]=\"item.link\" *ngIf=\"item.facebookid\"></facebook-player>\n          <html5-player [link]=\"item.link\" *ngIf=\"!item.youtubeid && !item.facebookid\"></html5-player>          \n        </div>\n        <div class=\"keywords\">\n          <a *ngFor=\"let k of item.keywords\" go-top style=\"float: left;\" class=\"mdl-button mdl-js-button\" [routerLink]=\"['/k/'+k._id]\">{{k.name}}</a>\n        </div>\n        <hr style=\"clear: both\"/>\n        <facebook-comment [link]=\"locationHref\"></facebook-comment>\n      </div>\n    `,\n    styles: ['.mdl-card__supporting-text, .mdl-card__supporting-text i {font-size: 12px}'],    \n    directives: [GoTop, FacebookCommentComponent, FacebookShareComponent, ROUTER_DIRECTIVES, FacebookPlayerComponent, YoutubePlayerComponent, Html5PlayerComponent]\n})\nexport class VideoDetailsComponent implements OnChanges, OnInit, OnDestroy { \n  @Input() item: VideoDetails;\n  isFavorite:boolean;\n  locationHref: string;\n  gsub: any;\n  isChecked: boolean= false;\n\n  constructor(private title: Title, private videoService: VideoService, private eventService: EventService, private userService: UserService){\n    \n  }\n\n  ngOnInit(){\n    this.gsub = this.eventService.emitter.subscribe((data: any) => {\n      if(data.com === 'facebook'){\n        if(data.action === 'login'){\n          if(data.data){\n            this.checkFavorite();\n          }\n        }     \n      }\n    });\n  }\n\n  ngOnDestroy(){\n    this.gsub.unsubscribe();\n  }\n\n  checkFavorite(){\n    if(!this.userService.currentUser) return;\n    this.isChecked = true;\n    this.isFavorite = this.userService.currentUser.favorites.findIndex((e, idx, arr) => {\n      if(e._id === this.item._id) return true;\n      return false;\n    }) != -1;\n  }\n\n  favorite(){\n    if(!this.isFavorite){\n      this.videoService.addFavorite(this.item).subscribe(\n       (v: any) => { \n          if(v.length > 0){\n            this.userService.currentUser.favorites = v;\n            this.userService.save();\n            this.eventService.emit({com: 'snack-bar', msg: 'Đã thêm vào danh sách yêu thích'}); \n          }else{\n            this.eventService.emit({com: 'snack-bar', msg: 'Có lỗi trong quá trình xử lý'}); \n          }\n       },\n       error =>  this.eventService.emit({com: 'snack-bar', msg: 'Có lỗi trong quá trình xử lý'}));\n    }else{\n      this.videoService.removeFavorite(this.item._id).subscribe(\n       (v: any) => {             \n          this.userService.currentUser.favorites = v;\n          this.userService.save();\n          this.eventService.emit({com: 'snack-bar', msg: 'Đã xóa khỏi danh sách yêu thích'}); \n       },\n       error =>  this.eventService.emit({com: 'snack-bar', msg: 'Có lỗi trong quá trình xử lý'}));\n    }\n    this.isFavorite = !this.isFavorite;\n  }\n\n  ngOnChanges(changes: {[propertyName: string]: SimpleChange}){\n    this.locationHref = location.href;\n    this.title.setTitle(this.item.title);    \n    this.checkFavorite();\n    this.isChecked = false;\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/video/video-details.component.ts\n **/","export * from './video-relation-list.component';\nexport * from './video-card-list.component';\nexport * from './video-page.component';\n\nimport { VideoCardListComponent, VideoPageComponent } from './';\n\nexport const routes = { path: '', component: VideoPageComponent,\n  children: [\n    { path: '', component: VideoCardListComponent },\n    { path: 'v/:mode', component: VideoCardListComponent },\n    { path: 'k/:keyword', component: VideoCardListComponent },\n    { path: 'search/:txtSearch', component: VideoCardListComponent }\n  ] \n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/videos/index.ts\n **/","import { Component, Input, OnInit } from '@angular/core';\nimport { ROUTER_DIRECTIVES } from '@angular/router';\nimport { SafeResourceUrl, DomSanitizationService } from '@angular/platform-browser';\n\nimport { VideoCard } from '../video.service';\nimport { GoTop } from '../video.directive';\nimport { HowlongPipe } from '../filter.pipe';\n\n@Component({\n    selector: 'video-card-item',\n    template: `\n    <a [routerLink]=\"['/'+item._id+'/'+item.title0]\" class=\"nothing\" go-top>\n      <div class=\"mdl-card__title\">\n         <h4 class=\"mdl-card__title-text main-color\">{{item.title}}</h4>\n      </div>      \n      <div class=\"mdl-card__media\">\n        <img [src]=\"url\">\n      </div>\n      <div class=\"howlong\" *ngIf=\"item.duration\"><i class=\"material-icons dp48\">alarm</i>{{item.duration | HowlongPipe}}</div>\n      <div class=\"mdl-card__supporting-text icon-des mdl-grid des-color\">\n        <div class=\"mdl-cell mdl-cell--6-col mdl-cell--4-col-tablet mdl-cell--2-col-phone ellipsis-1\" title=\"{{item.creator}}\"><i class=\"material-icons dp48\">tag_faces</i> {{item.creator}}</div>\n        <div class=\"mdl-cell mdl-cell--6-col mdl-cell--4-col-tablet mdl-cell--2-col-phone ellipsis-1\" title=\"{{item.nowOnTime}}\"><i class=\"material-icons dp48\">alarm_on</i> {{item.nowOnTime}}</div>\n      </div>\n    </a>\n    `,\n    host: {\n      '[class.mdl-card]': 'true',\n      '[class.mdl-shadow--2dp]': 'true',\n      '[class.mdl-cell]': 'true',\n      '[class.mdl-cell--4-col]': 'true',\n      '[class.mdl-cell--4-col-tablet]': 'true',\n      '[class.mdl-cell--4-col-phone]': 'true'\n    },\n    pipes: [HowlongPipe],\n    directives: [GoTop, ROUTER_DIRECTIVES]\n})\nexport class VideoCardItemComponent implements OnInit { \n  @Input() item: VideoCard;\n  url: SafeResourceUrl;\n\n  constructor(private sanitizer: DomSanitizationService){\n    \n  }\n\n  ngOnInit(){\n    this.url = this.sanitizer.bypassSecurityTrustUrl(this.item.image);   \n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/videos/video-card-item.component.ts\n **/","import { Component, Input, OnInit, OnDestroy, OnChanges, SimpleChange, ComponentResolver, ViewContainerRef, ComponentFactory, ViewChild, ComponentRef, AfterViewInit } from '@angular/core';\nimport { ActivatedRoute, Router, ROUTER_DIRECTIVES } from '@angular/router';\nimport { Title } from '@angular/platform-browser';\n\nimport { EventService } from '../event.service';\nimport { VideoCard, VideoService } from '../video.service';\nimport { GoTop } from '../video.directive';\nimport { VideoCardItemComponent } from './video-card-item.component'\nimport { VideoCardLoadingComponent } from './video-card-loading.component'\n\ndeclare var componentHandler: any;\n\n@Component({\n    selector: 'video-card-list',\n    template: `\n      <div class=\"android-card-container mdl-grid\" id=\"mainContent0\">\n          <div #viewContainer></div>\n          <video-card-loading [hidden]=\"!isLoading\"></video-card-loading>\n      </div>      \n      <div *ngIf=\"isLastAutoScroll\" align=\"center\" class=\"isLastAutoScroll\">\n        <button class=\"mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored\" go-top [routerLink]=\"['/v/'+mode]\" [queryParams]=\"{page: page+1}\">\n          <i class=\"normal material-icons\">hdr_weak</i>\n          <i class=\"hover material-icons\">hdr_strong</i>\n        </button>\n      </div>\n    `,\n    styles: [\n      'button { position: relative; margin-bottom: -90px; }', \n      'button i.hover { display: none; }',\n      'button:hover i.hover { display: block; }',\n      'button:hover i.normal { display: none; }'\n    ],\n    directives: [VideoCardItemComponent, VideoCardLoadingComponent, ROUTER_DIRECTIVES, GoTop]\n})\nexport class VideoCardListComponent implements OnInit, OnDestroy, OnChanges, AfterViewInit { \n    isLoading: boolean = false;\n    isInit: boolean = false;\n    sub: any;\n    qsub: any;\n    gsub:any;\n    isLastAutoScroll: boolean = false;\n    initPage:number = 1;\n    mode: string;\n    query: any = {};\n    page: number = 1;\n    rows: number = 12;\n\n    @ViewChild('viewContainer', {read: ViewContainerRef}) \n    viewContainer:any;\n\n    constructor(private router: Router, private route: ActivatedRoute, private title: Title, private videoService: VideoService, private eventService: EventService, private cmpResolver: ComponentResolver){\n      \n    }\n\n    ngAfterViewInit() {            \n      componentHandler.upgradeDom();\n    }\n\n    ngOnChanges(changes: {[propertyName: string]: SimpleChange}){ \n      \n      this.nextPage(this, () => {\n        this.eventService.emit({com: 'video-card-list', action: 'loaded'});\n      });\n    }\n\n    ngOnInit(){\n      this.gsub = this.eventService.emitter.subscribe((data: any) => {\n        if(data.com === 'video-card-list'){\n          if(data.action === 'append') {            \n            this.page++;\n            this.nextPage(this, () => {\n              this.eventService.emit({com: 'video-card-list', action: 'loaded'});\n              if(this.page > this.initPage && (this.page - this.initPage) % 2 === 0){\n                this.isLastAutoScroll = true;\n                return this.eventService.emit({com: 'video-card-list', action: 'stop'});\n              }              \n            });            \n          }\n        }\n      });\n      this.sub = this.route.params.subscribe((params: any) => {\n        var txtSearch: string = params['txtSearch'];      \n        var keyword: string =  params['keyword'];\n        if(txtSearch){\n          this.mode = 'search';\n          this.query.txtSearch = txtSearch;\n          this.title.setTitle(txtSearch + '***');\n        }else if(keyword){\n          this.mode = 'keyword';\n          this.query.keyword = keyword;\n          this.title.setTitle(keyword);\n        }else {\n          this.mode = params['mode'] || 'newest';\n          if(this.mode === 'most'){\n            this.title.setTitle('Xem nhiều nhất');\n          }else if(this.mode === 'hot'){\n            this.title.setTitle('Clip HOT nhất');\n          }else {\n            this.title.setTitle('ClipVNet - kênh video giải trí');\n          }\n        }\n        this.init();\n      });\n      this.qsub = this.router.routerState.queryParams.subscribe((params:any) => {\n        this.initPage = +params.page || 1;\n        this.page = this.initPage;\n        this.isLastAutoScroll = false;\n        this.init();\n      });\n    }\n\n    init() {\n      if(this.isInit) return;      \n      this.isInit = true;\n      setTimeout(() => {\n        this.clearContent(this);\n        this.eventService.emit({com: 'video-card-list', action: 'start'});\n        this.nextPage(this, () => {\n          this.isInit = false;\n          this.eventService.emit({com: 'video-card-list', action: 'loaded'});\n        });\n      }, 100);\n    }\n\n    ngOnDestroy(){\n      this.gsub.unsubscribe();\n      this.qsub.unsubscribe();\n      this.sub.unsubscribe();\n    }\n\n    nextPage(self:VideoCardListComponent, fcDone: any){\n      self.isLoading = true;\n      self.eventService.emit({com: 'page-loading', action: 1});\n      if(self.mode === 'most'){\n        self.videoService.getMostVideos({page: self.page, rows: self.rows}).subscribe((videos: Array<VideoCard>) => {\n          self.drawContent(self, videos, fcDone);\n        }, self.drawError);\n      }else if(self.mode === 'newest'){        \n        self.videoService.getNewestVideos({page: self.page, rows: self.rows}).subscribe((videos: Array<VideoCard>) => {\n          self.drawContent(self, videos, fcDone);\n        }, self.drawError);\n      }else if(self.mode === 'hot'){\n        self.videoService.getHotVideos({page: self.page, rows: self.rows}).subscribe((videos: Array<VideoCard>) => {\n          self.drawContent(self, videos, fcDone);\n        }, self.drawError);\n      }else if(self.mode === 'search'){\n        self.videoService.searchVideos(self.query.txtSearch, {page: self.page, rows: self.rows}).subscribe((videos: Array<VideoCard>) => {\n          self.drawContent(self, videos, fcDone);\n        }, self.drawError);\n      }else if(self.mode === 'keyword'){        \n        self.videoService.getKeywordVideos(self.query.keyword, {page: self.page, rows: self.rows}).subscribe((videos: Array<VideoCard>) => {\n          self.drawContent(self, videos, fcDone);\n        }, self.drawError);\n      }\n    }\n\n    drawError(err: any){\n      console.error(err);\n    }\n\n    clearContent(self: VideoCardListComponent){\n      self.viewContainer.clear();\n    }\n\n    drawContent(self: VideoCardListComponent, videos: Array<VideoCard>, fcDone: any){            \n      if(videos.length === 0) {\n        this.isLoading = undefined;\n        return fcDone();\n      }\n      self.cmpResolver.resolveComponent(VideoCardItemComponent)\n      .then((factory:ComponentFactory<VideoCardItemComponent>) => {\n        var index = self.viewContainer.length;\n        for(var i in videos){\n          var com: ComponentRef<VideoCardItemComponent> = self.viewContainer.createComponent(factory, index++, self.viewContainer.injector);\n          com.instance.item = videos[i];\n        }\n        self.isLoading = false;\n        self.eventService.emit({com: 'page-loading', action: 0});\n        fcDone();        \n      });      \n   }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/videos/video-card-list.component.ts\n **/","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'video-card-loading',\n    template: `\n      <img src=\"/assets/img/loading.gif\" class=\"inner\" />\n    `,\n    host: {\n      '[class.mdl-card]': 'true',\n      '[class.mdl-cell]': 'true',\n      '[class.mdl-cell--4-col]': 'true',\n      '[class.mdl-cell--4-col-tablet]': 'true',\n      '[class.mdl-cell--4-col-phone]': 'true'\n    }\n})\nexport class VideoCardLoadingComponent { \n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/videos/video-card-loading.component.ts\n **/","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { CORE_DIRECTIVES } from '@angular/common';\nimport { ActivatedRoute, Router, ROUTER_DIRECTIVES } from '@angular/router';\n\nimport { VideoRelationListComponent } from './video-relation-list.component';\nimport { FacebookLikeComponent } from '../facebook.component';\nimport { UserFavoriteVideoComponent } from '../user/user-favorite-video.component'; \nimport { EventService } from '../event.service';\n\n@Component({\n    selector: 'video-page',\n    template: `\n      <div class=\"mdl-grid\">\n        <div class=\"mdl-cell mdl-cell--8-col mdl-cell--8-col-tablet mdl-cell--4-col-phone mdl-cell--top\">                 \n          <router-outlet></router-outlet>\n        </div>\n        <div                class=\"mdl-cell mdl-cell--4-col mdl-cell--8-col-tablet mdl-cell--4-col-phone mdl-cell--top\">\n          <facebook-like *xl class=\"mdl-card\"></facebook-like>\n          <br/>\n          <br/>\n          <div class=\"fixed-col\">\n            <user-favorite-video [rows]=\"3\"></user-favorite-video>\n            <br/>\n            <br/>\n            <video-relation-list [mode]=\"'most'\" [page]=\"1\" [rows]=\"8\"></video-relation-list>\n            <br/>\n            <br/>\n            <video-relation-list [mode]=\"'hot'\" [page]=\"1\" [rows]=\"8\"></video-relation-list>\n          </div>\n        </div>\n      </div>\n    `,\n    directives: [VideoRelationListComponent, FacebookLikeComponent, CORE_DIRECTIVES, ROUTER_DIRECTIVES, UserFavoriteVideoComponent]\n})\nexport class VideoPageComponent implements OnInit, OnDestroy { \n\n  constructor(private eventService: EventService){\n    \n  }\n\n  ngOnInit() {\n    \n  }\n\n  ngOnDestroy(){\n    this.eventService.emit({com: 'video-card-list', action: 'stop'});    \n  }\n\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/videos/video-page.component.ts\n **/","import { Component, Input } from '@angular/core';\nimport { ROUTER_DIRECTIVES } from '@angular/router';\n\nimport { VideoCard } from '../video.service';\nimport { GoTop } from '../video.directive';\nimport { HowlongPipe } from '../filter.pipe';\n\n@Component({\n    selector: 'video-relation-item',\n    template: `\n      <li class=\"mdl-list__item mdl-list__item--three-line\">\n        <a class=\"mdl-list__item-primary-content nothing\" [routerLink]=\"['/'+item._id+'/'+item.title0]\" go-top>          \n          <div class=\"img-des\">\n            <img src=\"{{item.image}}\" width=\"80\" class=\"rounded\" *ngIf=\"!item.youtubeid\">\n            <img src=\"http://i.ytimg.com/vi/{{item.youtubeid}}/1.jpg\" width=\"80\" style=\"float: left; margin-right: 5px;\" class=\"rounded\" *ngIf=\"item.youtubeid\">                    \n            <div class=\"howlong\"><i class=\"material-icons dp48\">alarm</i>{{item.duration | HowlongPipe}}</div>\n          </div>\n          <div class=\"main-color title\">{{item.title}}</div>\n          <span class=\"mdl-list__item-text-body des-color\">\n            <i class=\"material-icons dp48\">alarm_on</i> {{item.nowOnTime}}\n          </span>\n        </a>\n      </li>\n    `,\n    pipes: [HowlongPipe],\n    directives: [ROUTER_DIRECTIVES, GoTop]\n})\nexport class VideoRelationItemComponent { \n  @Input() item: VideoCard;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/videos/video-relation-item.component.ts\n **/","import { Component, Input, OnInit, OnChanges, SimpleChange } from '@angular/core';\n\nimport { VideoCard, VideoService } from '../video.service';\nimport { VideoRelationItemComponent } from './video-relation-item.component';\n\n@Component({\n    selector: 'video-relation-list',\n    template: `\n      <div class=\"mdl-card mdl-shadow--2dp\">\n        <div class=\"mdl-card__title mdl-card--border\">\n          <h6 class=\"mdl-card__title-text\">{{title}}</h6>\n          <div class=\"mdl-layout-spacer\"></div>\n          <i class=\"material-icons mdl-list__item-icon\">videocam</i>\n        </div>\n        <ul class=\"mdl-list\">\n          <video-relation-item style=\"width: 100%\" *ngFor=\"let v of videosRelation\" [item]=\"v\"></video-relation-item>\n        </ul>\n      </div>\n    `,\n    directives: [VideoRelationItemComponent]\n})\nexport class VideoRelationListComponent implements OnInit, OnChanges { \n  @Input() mode: string;\n  @Input() page: number;\n  @Input() rows: number;\n  @Input() query: any = {};\n\n  title: string;\n  videosRelation: VideoCard[] = [];\n  \n  constructor(private videoService: VideoService){\n    \n  }\n\n  ngOnChanges(changes: {[propertyName: string]: SimpleChange}){    \n    if(this.mode === 'relation'){      \n      this.title = 'Video liên quan';\n      this.videoService.getRelateVideos(this.query.id, this.query.keywords, this.query.updateat, {page: this.page, rows: this.rows}).subscribe(\n                       (videos: Array<VideoCard>) => {this.videosRelation = videos;},\n                       error =>  console.error(error));  \n    }\n  }\n\n  ngOnInit(){\n    if(this.mode === 'most'){\n      this.title = 'Video xem nhiều nhất';\n      this.videoService.getMostVideos({page: this.page, rows: this.rows}).subscribe(\n                       (videos: Array<VideoCard>) => {this.videosRelation = videos;},\n                       error =>  console.error(error));\n    }else if(this.mode === 'hot'){\n      this.title = 'Video hot';\n      this.videoService.getHotVideos({page: this.page, rows: this.rows}).subscribe(\n                       (videos: Array<VideoCard>) => {this.videosRelation = videos;},\n                       error =>  console.error(error));\n    }\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/videos/video-relation-list.component.ts\n **/"],"sourceRoot":""}