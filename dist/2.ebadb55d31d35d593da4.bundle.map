{"version":3,"sources":["webpack:///2.ebadb55d31d35d593da4.chunk.js","webpack:///./src/app/filter.pipe.ts?0e3d","webpack:///./src/app/videos/index.ts?df19","webpack:///./src/app/videos/video-card-item.component.ts?23a5","webpack:///./src/app/videos/video-card-list.component.ts?9830","webpack:///./src/app/videos/video-card-loading.component.ts?8f69","webpack:///./src/app/videos/video-page.component.ts?e9d7","webpack:///./src/app/videos/video-relation-item.component.ts?957b","webpack:///./src/app/videos/video-relation-list.component.ts?8f0c"],"names":["webpackJsonp","992","module","exports","__webpack_require__","core_1","HowlongPipe","prototype","transform","str","replace","__decorate","Pipe","name","__metadata","488","__export","m","p","hasOwnProperty","_1","routes","path","component","VideoPageComponent","children","pathMatch","VideoCardListComponent","994","router_1","platform_browser_1","video_service_1","filter_pipe_1","VideoCardItemComponent","sanitizer","this","ngOnInit","url","bypassSecurityTrustUrl","item","image","Input","_a","VideoCard","Object","Component","selector","template","host","[class.mdl-card]","[class.mdl-shadow--2dp]","[class.mdl-cell]","[class.mdl-cell--4-col]","[class.mdl-cell--4-col-tablet]","[class.mdl-cell--4-col-phone]","pipes","directives","ROUTER_DIRECTIVES","_b","DomSanitizationService","995","ng2_meta_1","event_service_1","video_directive_1","video_card_item_component_1","video_card_loading_component_1","metaService","router","route","videoService","eventService","cmpResolver","isLoading","isInit","isLastAutoScroll","initPage","query","page","rows","ngAfterViewInit","upgradeDom","ngOnChanges","changes","_this","nextPage","emit","com","action","gsub","emitter","subscribe","data","sub","params","title","txtSearch","keywordId","mode","keyword","kwidx","keywords","findIndex","e","_id","setTimeout","setTitle","init","qsub","routerState","queryParams","clearContent","ngOnDestroy","unsubscribe","self","fcDone","getMostVideos","videos","drawContent","drawError","getNewestVideos","getHotVideos","searchVideos","getKeywordVideos","err","console","error","viewContainer","clear","length","undefined","resolveComponent","then","factory","index","i","createComponent","injector","instance","ViewChild","read","ViewContainerRef","styles","VideoCardLoadingComponent","GoTop","MetaService","Router","_c","ActivatedRoute","_d","VideoService","_e","EventService","_f","ComponentResolver","996","997","common_1","video_relation_list_component_1","facebook_component_1","user_favorite_video_component_1","user_service_1","userService","VideoRelationListComponent","FacebookLikeComponent","CORE_DIRECTIVES","UserFavoriteVideoComponent","UserService","998","VideoRelationItemComponent","993","video_relation_item_component_1","videosRelation","getRelateVideos","id","updateat","String","Number"],"mappings":"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","file":"2.ebadb55d31d35d593da4.chunk.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 992:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar core_1 = __webpack_require__(1);\n\t// Tell Angular2 we're creating a Pipe with TypeScript decorators\n\tvar HowlongPipe = (function () {\n\t    function HowlongPipe() {\n\t    }\n\t    // Transform is the new \"return function(value, args)\" in Angular 1.x\n\t    HowlongPipe.prototype.transform = function (str) {\n\t        if (!str)\n\t            return str;\n\t        return str.replace('H', 'g').replace('M', 'p').replace('S', '\"');\n\t    };\n\t    HowlongPipe = __decorate([\n\t        core_1.Pipe({\n\t            name: 'HowlongPipe'\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], HowlongPipe);\n\t    return HowlongPipe;\n\t}());\n\texports.HowlongPipe = HowlongPipe;\n\n\n/***/ },\n\n/***/ 488:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tfunction __export(m) {\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t}\n\t__export(__webpack_require__(993));\n\t__export(__webpack_require__(995));\n\t__export(__webpack_require__(997));\n\tvar _1 = __webpack_require__(488);\n\texports.routes = { path: '', component: _1.VideoPageComponent,\n\t    children: [\n\t        { path: '', pathMatch: 'full', component: _1.VideoCardListComponent },\n\t        { path: ':mode', pathMatch: 'full', component: _1.VideoCardListComponent },\n\t        { path: 'keyword/:id/:title', pathMatch: 'full', component: _1.VideoCardListComponent },\n\t        { path: 'search/:txtSearch', pathMatch: 'full', component: _1.VideoCardListComponent }\n\t    ]\n\t};\n\n\n/***/ },\n\n/***/ 994:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar core_1 = __webpack_require__(1);\n\tvar router_1 = __webpack_require__(49);\n\tvar platform_browser_1 = __webpack_require__(57);\n\tvar video_service_1 = __webpack_require__(67);\n\tvar filter_pipe_1 = __webpack_require__(992);\n\tvar VideoCardItemComponent = (function () {\n\t    function VideoCardItemComponent(sanitizer) {\n\t        this.sanitizer = sanitizer;\n\t    }\n\t    VideoCardItemComponent.prototype.ngOnInit = function () {\n\t        this.url = this.sanitizer.bypassSecurityTrustUrl(this.item.image);\n\t    };\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', (typeof (_a = typeof video_service_1.VideoCard !== 'undefined' && video_service_1.VideoCard) === 'function' && _a) || Object)\n\t    ], VideoCardItemComponent.prototype, \"item\", void 0);\n\t    VideoCardItemComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'video-card-item',\n\t            template: \"\\n    <a [routerLink]=\\\"['/detail', item._id, item.title0 + '#!']\\\" class=\\\"nothing\\\">\\n      <div class=\\\"mdl-card__title\\\">\\n         <h4 class=\\\"mdl-card__title-text main-color\\\">{{item.title}}</h4>\\n      </div>      \\n      <div class=\\\"mdl-card__media\\\">\\n        <img src=\\\"{{item.image}}\\\"                                 *ngIf=\\\"!item.youtubeid\\\">\\n        <img src=\\\"http://i.ytimg.com/vi/{{item.youtubeid}}/mqdefault.jpg\\\" *ngIf=\\\"item.youtubeid\\\">\\n      </div>\\n      <div class=\\\"howlong\\\" *ngIf=\\\"item.duration\\\"><i class=\\\"material-icons dp48\\\">alarm</i>{{item.duration | HowlongPipe}}</div>\\n      <div class=\\\"mdl-card__supporting-text icon-des mdl-grid des-color\\\">\\n        <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--4-col-tablet mdl-cell--2-col-phone ellipsis-1\\\" title=\\\"{{item.creator}}\\\"><i class=\\\"material-icons dp48\\\">tag_faces</i> {{item.creator}}</div>\\n        <div class=\\\"mdl-cell mdl-cell--6-col mdl-cell--4-col-tablet mdl-cell--2-col-phone ellipsis-1\\\" title=\\\"{{item.nowOnTime}}\\\"><i class=\\\"material-icons dp48\\\">alarm_on</i> {{item.nowOnTime}}</div>\\n      </div>\\n    </a>\\n    \",\n\t            host: {\n\t                '[class.mdl-card]': 'true',\n\t                '[class.mdl-shadow--2dp]': 'true',\n\t                '[class.mdl-cell]': 'true',\n\t                '[class.mdl-cell--4-col]': 'true',\n\t                '[class.mdl-cell--4-col-tablet]': 'true',\n\t                '[class.mdl-cell--4-col-phone]': 'true'\n\t            },\n\t            pipes: [filter_pipe_1.HowlongPipe],\n\t            directives: [router_1.ROUTER_DIRECTIVES]\n\t        }), \n\t        __metadata('design:paramtypes', [(typeof (_b = typeof platform_browser_1.DomSanitizationService !== 'undefined' && platform_browser_1.DomSanitizationService) === 'function' && _b) || Object])\n\t    ], VideoCardItemComponent);\n\t    return VideoCardItemComponent;\n\t    var _a, _b;\n\t}());\n\texports.VideoCardItemComponent = VideoCardItemComponent;\n\n\n/***/ },\n\n/***/ 995:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar core_1 = __webpack_require__(1);\n\tvar router_1 = __webpack_require__(49);\n\tvar ng2_meta_1 = __webpack_require__(489);\n\tvar event_service_1 = __webpack_require__(50);\n\tvar video_service_1 = __webpack_require__(67);\n\tvar video_directive_1 = __webpack_require__(307);\n\tvar video_card_item_component_1 = __webpack_require__(994);\n\tvar video_card_loading_component_1 = __webpack_require__(996);\n\tvar VideoCardListComponent = (function () {\n\t    function VideoCardListComponent(metaService, router, route, videoService, eventService, cmpResolver) {\n\t        this.metaService = metaService;\n\t        this.router = router;\n\t        this.route = route;\n\t        this.videoService = videoService;\n\t        this.eventService = eventService;\n\t        this.cmpResolver = cmpResolver;\n\t        this.isLoading = false;\n\t        this.isInit = false;\n\t        this.isLastAutoScroll = false;\n\t        this.initPage = 1;\n\t        this.query = {};\n\t        this.page = 1;\n\t        this.rows = 12;\n\t    }\n\t    VideoCardListComponent.prototype.ngAfterViewInit = function () {\n\t        this.videoService.upgradeDom();\n\t    };\n\t    VideoCardListComponent.prototype.ngOnChanges = function (changes) {\n\t        var _this = this;\n\t        this.nextPage(this, function () {\n\t            _this.eventService.emit({ com: 'video-card-list', action: 'loaded' });\n\t        });\n\t    };\n\t    VideoCardListComponent.prototype.ngOnInit = function () {\n\t        var _this = this;\n\t        this.gsub = this.eventService.emitter.subscribe(function (data) {\n\t            if (data.com === 'video-card-list') {\n\t                if (data.action === 'append') {\n\t                    _this.page++;\n\t                    _this.nextPage(_this, function () {\n\t                        _this.eventService.emit({ com: 'video-card-list', action: 'loaded' });\n\t                        if (_this.page > _this.initPage && (_this.page - _this.initPage) % 2 === 0) {\n\t                            _this.isLastAutoScroll = true;\n\t                            return _this.eventService.emit({ com: 'video-card-list', action: 'stop' });\n\t                        }\n\t                    });\n\t                }\n\t            }\n\t        });\n\t        this.sub = this.route.params.subscribe(function (params) {\n\t            var txtSearch = params['txtSearch'];\n\t            var keywordId = params['id'];\n\t            var title;\n\t            if (txtSearch) {\n\t                _this.mode = 'search';\n\t                _this.query.txtSearch = txtSearch;\n\t                title = txtSearch + '***';\n\t            }\n\t            else if (keywordId) {\n\t                _this.mode = 'keyword';\n\t                _this.query.keyword = keywordId;\n\t                var kwidx = _this.videoService.keywords.findIndex(function (e) { return e._id === keywordId; });\n\t                title = kwidx < 0 ? keywordId : _this.videoService.keywords[kwidx].name;\n\t            }\n\t            else {\n\t                _this.mode = params['mode'] || 'newest';\n\t                if (_this.mode === 'most') {\n\t                    title = 'Clip xem nhiều nhất';\n\t                }\n\t                else if (_this.mode === 'hot') {\n\t                    title = 'Clip HOT nhất';\n\t                }\n\t            }\n\t            if (title)\n\t                setTimeout(function () { _this.metaService.setTitle(title); });\n\t            _this.init();\n\t        });\n\t        this.qsub = this.router.routerState.queryParams.subscribe(function (params) {\n\t            _this.initPage = +params.page || 1;\n\t            _this.page = _this.initPage;\n\t            _this.isLastAutoScroll = false;\n\t            _this.init();\n\t        });\n\t    };\n\t    VideoCardListComponent.prototype.init = function () {\n\t        var _this = this;\n\t        if (this.isInit)\n\t            return;\n\t        this.isInit = true;\n\t        setTimeout(function () {\n\t            _this.clearContent(_this);\n\t            _this.eventService.emit({ com: 'video-card-list', action: 'start' });\n\t            _this.nextPage(_this, function () {\n\t                _this.isInit = false;\n\t                _this.eventService.emit({ com: 'video-card-list', action: 'loaded' });\n\t            });\n\t        }, 100);\n\t    };\n\t    VideoCardListComponent.prototype.ngOnDestroy = function () {\n\t        this.gsub.unsubscribe();\n\t        this.qsub.unsubscribe();\n\t        this.sub.unsubscribe();\n\t    };\n\t    VideoCardListComponent.prototype.nextPage = function (self, fcDone) {\n\t        self.isLoading = true;\n\t        self.eventService.emit({ com: 'page-loading', action: 1 });\n\t        if (self.mode === 'most') {\n\t            self.videoService.getMostVideos({ page: self.page, rows: self.rows }).subscribe(function (videos) {\n\t                self.drawContent(self, videos, fcDone);\n\t            }, self.drawError);\n\t        }\n\t        else if (self.mode === 'newest') {\n\t            self.videoService.getNewestVideos({ page: self.page, rows: self.rows }).subscribe(function (videos) {\n\t                self.drawContent(self, videos, fcDone);\n\t            }, self.drawError);\n\t        }\n\t        else if (self.mode === 'hot') {\n\t            self.videoService.getHotVideos({ page: self.page, rows: self.rows }).subscribe(function (videos) {\n\t                self.drawContent(self, videos, fcDone);\n\t            }, self.drawError);\n\t        }\n\t        else if (self.mode === 'search') {\n\t            self.videoService.searchVideos(self.query.txtSearch, { page: self.page, rows: self.rows }).subscribe(function (videos) {\n\t                self.drawContent(self, videos, fcDone);\n\t            }, self.drawError);\n\t        }\n\t        else if (self.mode === 'keyword') {\n\t            self.videoService.getKeywordVideos(self.query.keyword, { page: self.page, rows: self.rows }).subscribe(function (videos) {\n\t                self.drawContent(self, videos, fcDone);\n\t            }, self.drawError);\n\t        }\n\t    };\n\t    VideoCardListComponent.prototype.drawError = function (err) {\n\t        console.error(err);\n\t    };\n\t    VideoCardListComponent.prototype.clearContent = function (self) {\n\t        self.viewContainer.clear();\n\t    };\n\t    VideoCardListComponent.prototype.drawContent = function (self, videos, fcDone) {\n\t        if (videos.length === 0) {\n\t            this.isLoading = undefined;\n\t            return fcDone();\n\t        }\n\t        self.cmpResolver.resolveComponent(video_card_item_component_1.VideoCardItemComponent)\n\t            .then(function (factory) {\n\t            var index = self.viewContainer.length;\n\t            for (var i in videos) {\n\t                var com = self.viewContainer.createComponent(factory, index++, self.viewContainer.injector);\n\t                com.instance.item = videos[i];\n\t            }\n\t            self.isLoading = false;\n\t            self.eventService.emit({ com: 'page-loading', action: 0 });\n\t            fcDone();\n\t        });\n\t    };\n\t    __decorate([\n\t        core_1.ViewChild('viewContainer', { read: core_1.ViewContainerRef }), \n\t        __metadata('design:type', Object)\n\t    ], VideoCardListComponent.prototype, \"viewContainer\", void 0);\n\t    VideoCardListComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'video-card-list',\n\t            template: \"\\n      <div class=\\\"android-card-container mdl-grid\\\" id=\\\"mainContent0\\\">\\n          <div #viewContainer></div>\\n          <video-card-loading [hidden]=\\\"!isLoading\\\"></video-card-loading>\\n      </div>      \\n      <div *ngIf=\\\"isLastAutoScroll\\\" align=\\\"center\\\" class=\\\"isLastAutoScroll\\\">\\n        <button class=\\\"mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored\\\" [routerLink]=\\\"['/', mode]\\\" [queryParams]=\\\"{page: page+1}\\\" go-top>\\n          <i class=\\\"normal material-icons\\\">hdr_weak</i>\\n          <i class=\\\"hover material-icons\\\">hdr_strong</i>\\n        </button>\\n      </div>\\n    \",\n\t            styles: [\n\t                'button { position: relative; margin-bottom: -90px; }',\n\t                'button i.hover { display: none; }',\n\t                'button:hover i.hover { display: block; }',\n\t                'button:hover i.normal { display: none; }'\n\t            ],\n\t            directives: [video_card_item_component_1.VideoCardItemComponent, video_card_loading_component_1.VideoCardLoadingComponent, router_1.ROUTER_DIRECTIVES, video_directive_1.GoTop]\n\t        }), \n\t        __metadata('design:paramtypes', [(typeof (_a = typeof ng2_meta_1.MetaService !== 'undefined' && ng2_meta_1.MetaService) === 'function' && _a) || Object, (typeof (_b = typeof router_1.Router !== 'undefined' && router_1.Router) === 'function' && _b) || Object, (typeof (_c = typeof router_1.ActivatedRoute !== 'undefined' && router_1.ActivatedRoute) === 'function' && _c) || Object, (typeof (_d = typeof video_service_1.VideoService !== 'undefined' && video_service_1.VideoService) === 'function' && _d) || Object, (typeof (_e = typeof event_service_1.EventService !== 'undefined' && event_service_1.EventService) === 'function' && _e) || Object, (typeof (_f = typeof core_1.ComponentResolver !== 'undefined' && core_1.ComponentResolver) === 'function' && _f) || Object])\n\t    ], VideoCardListComponent);\n\t    return VideoCardListComponent;\n\t    var _a, _b, _c, _d, _e, _f;\n\t}());\n\texports.VideoCardListComponent = VideoCardListComponent;\n\n\n/***/ },\n\n/***/ 996:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar core_1 = __webpack_require__(1);\n\tvar VideoCardLoadingComponent = (function () {\n\t    function VideoCardLoadingComponent() {\n\t    }\n\t    VideoCardLoadingComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'video-card-loading',\n\t            template: \"\\n      <img src=\\\"/assets/img/loading.gif\\\" class=\\\"inner\\\" />\\n    \",\n\t            host: {\n\t                '[class.mdl-card]': 'true',\n\t                '[class.mdl-cell]': 'true',\n\t                '[class.mdl-cell--4-col]': 'true',\n\t                '[class.mdl-cell--4-col-tablet]': 'true',\n\t                '[class.mdl-cell--4-col-phone]': 'true'\n\t            }\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], VideoCardLoadingComponent);\n\t    return VideoCardLoadingComponent;\n\t}());\n\texports.VideoCardLoadingComponent = VideoCardLoadingComponent;\n\n\n/***/ },\n\n/***/ 997:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar core_1 = __webpack_require__(1);\n\tvar common_1 = __webpack_require__(34);\n\tvar router_1 = __webpack_require__(49);\n\tvar video_relation_list_component_1 = __webpack_require__(993);\n\tvar facebook_component_1 = __webpack_require__(306);\n\tvar user_favorite_video_component_1 = __webpack_require__(490);\n\tvar event_service_1 = __webpack_require__(50);\n\tvar user_service_1 = __webpack_require__(68);\n\tvar VideoPageComponent = (function () {\n\t    function VideoPageComponent(eventService, userService) {\n\t        this.eventService = eventService;\n\t        this.userService = userService;\n\t    }\n\t    VideoPageComponent.prototype.ngOnInit = function () {\n\t    };\n\t    VideoPageComponent.prototype.ngOnDestroy = function () {\n\t        this.eventService.emit({ com: 'video-card-list', action: 'stop' });\n\t    };\n\t    VideoPageComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'video-page',\n\t            template: \"\\n      <div class=\\\"mdl-grid\\\">\\n        <div class=\\\"mdl-cell mdl-cell--8-col mdl-cell--8-col-tablet mdl-cell--4-col-phone mdl-cell--top\\\">                 \\n          <router-outlet></router-outlet>\\n        </div>\\n        <div                class=\\\"mdl-cell mdl-cell--4-col mdl-cell--8-col-tablet mdl-cell--4-col-phone mdl-cell--top\\\">\\n          <facebook-like *xl class=\\\"mdl-card\\\"></facebook-like>\\n          <br/>\\n          <div class=\\\"fixed-col\\\">\\n            <user-favorite-video [rows]=\\\"3\\\" *ngIf=\\\"userService.currentUser\\\"></user-favorite-video>            \\n            <video-relation-list [mode]=\\\"'most'\\\" [page]=\\\"1\\\" [rows]=\\\"8\\\"></video-relation-list>\\n            <br/>\\n            <video-relation-list [mode]=\\\"'hot'\\\" [page]=\\\"1\\\" [rows]=\\\"8\\\"></video-relation-list>\\n          </div>\\n        </div>\\n      </div>\\n    \",\n\t            directives: [video_relation_list_component_1.VideoRelationListComponent, facebook_component_1.FacebookLikeComponent, common_1.CORE_DIRECTIVES, router_1.ROUTER_DIRECTIVES, user_favorite_video_component_1.UserFavoriteVideoComponent]\n\t        }), \n\t        __metadata('design:paramtypes', [(typeof (_a = typeof event_service_1.EventService !== 'undefined' && event_service_1.EventService) === 'function' && _a) || Object, (typeof (_b = typeof user_service_1.UserService !== 'undefined' && user_service_1.UserService) === 'function' && _b) || Object])\n\t    ], VideoPageComponent);\n\t    return VideoPageComponent;\n\t    var _a, _b;\n\t}());\n\texports.VideoPageComponent = VideoPageComponent;\n\n\n/***/ },\n\n/***/ 998:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar core_1 = __webpack_require__(1);\n\tvar router_1 = __webpack_require__(49);\n\tvar video_service_1 = __webpack_require__(67);\n\tvar filter_pipe_1 = __webpack_require__(992);\n\tvar VideoRelationItemComponent = (function () {\n\t    function VideoRelationItemComponent() {\n\t    }\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', (typeof (_a = typeof video_service_1.VideoCard !== 'undefined' && video_service_1.VideoCard) === 'function' && _a) || Object)\n\t    ], VideoRelationItemComponent.prototype, \"item\", void 0);\n\t    VideoRelationItemComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'video-relation-item',\n\t            template: \"\\n      <li class=\\\"mdl-list__item mdl-list__item--three-line\\\">\\n        <a class=\\\"mdl-list__item-primary-content nothing\\\" [routerLink]=\\\"['/detail', item._id, item.title0 + '#!']\\\">          \\n          <div class=\\\"img-des\\\">\\n            <img src=\\\"{{item.image}}\\\" width=\\\"100\\\" class=\\\"rounded\\\" *ngIf=\\\"!item.youtubeid\\\">\\n            <img src=\\\"http://i.ytimg.com/vi/{{item.youtubeid}}/1.jpg\\\" width=\\\"100\\\" style=\\\"float: left; margin-right: 5px;\\\" class=\\\"rounded\\\" *ngIf=\\\"item.youtubeid\\\">                    \\n            <div class=\\\"howlong\\\"><i class=\\\"material-icons dp48\\\">alarm</i>{{item.duration | HowlongPipe}}</div>\\n          </div>\\n          <div class=\\\"main-color title\\\">{{item.title}}</div>\\n          <span class=\\\"mdl-list__item-text-body des-color\\\">\\n            <i class=\\\"material-icons dp48\\\">alarm_on</i> {{item.nowOnTime}}\\n          </span>\\n        </a>\\n      </li>\\n    \",\n\t            pipes: [filter_pipe_1.HowlongPipe],\n\t            directives: [router_1.ROUTER_DIRECTIVES]\n\t        }), \n\t        __metadata('design:paramtypes', [])\n\t    ], VideoRelationItemComponent);\n\t    return VideoRelationItemComponent;\n\t    var _a;\n\t}());\n\texports.VideoRelationItemComponent = VideoRelationItemComponent;\n\n\n/***/ },\n\n/***/ 993:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar core_1 = __webpack_require__(1);\n\tvar video_service_1 = __webpack_require__(67);\n\tvar video_relation_item_component_1 = __webpack_require__(998);\n\tvar VideoRelationListComponent = (function () {\n\t    function VideoRelationListComponent(videoService) {\n\t        this.videoService = videoService;\n\t        this.query = {};\n\t        this.videosRelation = [];\n\t    }\n\t    VideoRelationListComponent.prototype.ngOnChanges = function (changes) {\n\t        var _this = this;\n\t        if (this.mode === 'relation') {\n\t            this.title = 'Video liên quan';\n\t            this.videoService.getRelateVideos(this.query.id, this.query.keywords, this.query.updateat, { page: this.page, rows: this.rows }).subscribe(function (videos) { _this.videosRelation = videos; }, function (error) { return console.error(error); });\n\t        }\n\t    };\n\t    VideoRelationListComponent.prototype.ngOnInit = function () {\n\t        var _this = this;\n\t        if (this.mode === 'most') {\n\t            this.title = 'Video xem nhiều nhất';\n\t            this.videoService.getMostVideos({ page: this.page, rows: this.rows }).subscribe(function (videos) { _this.videosRelation = videos; }, function (error) { return console.error(error); });\n\t        }\n\t        else if (this.mode === 'hot') {\n\t            this.title = 'Video hot';\n\t            this.videoService.getHotVideos({ page: this.page, rows: this.rows }).subscribe(function (videos) { _this.videosRelation = videos; }, function (error) { return console.error(error); });\n\t        }\n\t    };\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', String)\n\t    ], VideoRelationListComponent.prototype, \"mode\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Number)\n\t    ], VideoRelationListComponent.prototype, \"page\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Number)\n\t    ], VideoRelationListComponent.prototype, \"rows\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Object)\n\t    ], VideoRelationListComponent.prototype, \"query\", void 0);\n\t    VideoRelationListComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'video-relation-list',\n\t            template: \"\\n      <div class=\\\"mdl-card mdl-shadow--2dp\\\">\\n        <div class=\\\"mdl-card__title mdl-card--border\\\">\\n          <h6 class=\\\"mdl-card__title-text\\\">{{title}}</h6>\\n          <div class=\\\"mdl-layout-spacer\\\"></div>\\n          <i class=\\\"material-icons mdl-list__item-icon\\\">videocam</i>\\n        </div>\\n        <ul class=\\\"mdl-list\\\">\\n          <video-relation-item style=\\\"width: 100%\\\" *ngFor=\\\"let v of videosRelation\\\" [item]=\\\"v\\\"></video-relation-item>\\n        </ul>\\n      </div>\\n    \",\n\t            directives: [video_relation_item_component_1.VideoRelationItemComponent]\n\t        }), \n\t        __metadata('design:paramtypes', [(typeof (_a = typeof video_service_1.VideoService !== 'undefined' && video_service_1.VideoService) === 'function' && _a) || Object])\n\t    ], VideoRelationListComponent);\n\t    return VideoRelationListComponent;\n\t    var _a;\n\t}());\n\texports.VideoRelationListComponent = VideoRelationListComponent;\n\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** 2.ebadb55d31d35d593da4.chunk.js\n **/","import {Pipe, PipeTransform} from '@angular/core';\n\n// Tell Angular2 we're creating a Pipe with TypeScript decorators\n@Pipe({\n  name: 'HowlongPipe'\n})\nexport class HowlongPipe implements PipeTransform {\n\n  // Transform is the new \"return function(value, args)\" in Angular 1.x\n  transform(str: any) {  \t\n  \tif(!str) return str;\n    return str.replace('H', 'g').replace('M', 'p').replace('S', '\"');\n  }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/filter.pipe.ts\n **/","export * from './video-relation-list.component';\nexport * from './video-card-list.component';\nexport * from './video-page.component';\n\nimport { VideoCardListComponent, VideoPageComponent } from './';\n\nexport const routes = { path: '', component: VideoPageComponent,\n  children: [\n    { path: '',                    pathMatch: 'full', \t\t\t\tcomponent: VideoCardListComponent },\n    { path: ':mode',             \t pathMatch: 'full', \t\t\t\tcomponent: VideoCardListComponent },\n    { path: 'keyword/:id/:title',  pathMatch: 'full', \t\t\t\tcomponent: VideoCardListComponent },\n    { path: 'search/:txtSearch',   pathMatch: 'full', \t\t\t\tcomponent: VideoCardListComponent }\n  ] \n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/videos/index.ts\n **/","import { Component, Input, OnInit } from '@angular/core';\nimport { ROUTER_DIRECTIVES } from '@angular/router';\nimport { SafeResourceUrl, DomSanitizationService } from '@angular/platform-browser';\n\nimport { VideoCard } from '../video.service';\nimport { HowlongPipe } from '../filter.pipe';\n\n@Component({\n    selector: 'video-card-item',\n    template: `\n    <a [routerLink]=\"['/detail', item._id, item.title0 + '#!']\" class=\"nothing\">\n      <div class=\"mdl-card__title\">\n         <h4 class=\"mdl-card__title-text main-color\">{{item.title}}</h4>\n      </div>      \n      <div class=\"mdl-card__media\">\n        <img src=\"{{item.image}}\"                                 *ngIf=\"!item.youtubeid\">\n        <img src=\"http://i.ytimg.com/vi/{{item.youtubeid}}/mqdefault.jpg\" *ngIf=\"item.youtubeid\">\n      </div>\n      <div class=\"howlong\" *ngIf=\"item.duration\"><i class=\"material-icons dp48\">alarm</i>{{item.duration | HowlongPipe}}</div>\n      <div class=\"mdl-card__supporting-text icon-des mdl-grid des-color\">\n        <div class=\"mdl-cell mdl-cell--6-col mdl-cell--4-col-tablet mdl-cell--2-col-phone ellipsis-1\" title=\"{{item.creator}}\"><i class=\"material-icons dp48\">tag_faces</i> {{item.creator}}</div>\n        <div class=\"mdl-cell mdl-cell--6-col mdl-cell--4-col-tablet mdl-cell--2-col-phone ellipsis-1\" title=\"{{item.nowOnTime}}\"><i class=\"material-icons dp48\">alarm_on</i> {{item.nowOnTime}}</div>\n      </div>\n    </a>\n    `,\n    host: {\n      '[class.mdl-card]': 'true',\n      '[class.mdl-shadow--2dp]': 'true',\n      '[class.mdl-cell]': 'true',\n      '[class.mdl-cell--4-col]': 'true',\n      '[class.mdl-cell--4-col-tablet]': 'true',\n      '[class.mdl-cell--4-col-phone]': 'true'\n    },\n    pipes: [HowlongPipe],\n    directives: [ROUTER_DIRECTIVES]\n})\nexport class VideoCardItemComponent implements OnInit { \n  @Input() item: VideoCard;\n  url: SafeResourceUrl;\n\n  constructor(private sanitizer: DomSanitizationService){\n    \n  }\n\n  ngOnInit(){\n    this.url = this.sanitizer.bypassSecurityTrustUrl(this.item.image);   \n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/videos/video-card-item.component.ts\n **/","import { Component, Input, OnInit, OnDestroy, OnChanges, SimpleChange, ComponentResolver, ViewContainerRef, ComponentFactory, ViewChild, ComponentRef, AfterViewInit } from '@angular/core';\nimport { ActivatedRoute, Router, ROUTER_DIRECTIVES } from '@angular/router';\nimport { MetaService } from 'ng2-meta';\n\nimport { EventService } from '../event.service';\nimport { VideoCard, VideoService } from '../video.service';\nimport { GoTop } from '../video.directive';\nimport { VideoCardItemComponent } from './video-card-item.component'\nimport { VideoCardLoadingComponent } from './video-card-loading.component'\n\n@Component({\n    selector: 'video-card-list',\n    template: `\n      <div class=\"android-card-container mdl-grid\" id=\"mainContent0\">\n          <div #viewContainer></div>\n          <video-card-loading [hidden]=\"!isLoading\"></video-card-loading>\n      </div>      \n      <div *ngIf=\"isLastAutoScroll\" align=\"center\" class=\"isLastAutoScroll\">\n        <button class=\"mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored\" [routerLink]=\"['/', mode]\" [queryParams]=\"{page: page+1}\" go-top>\n          <i class=\"normal material-icons\">hdr_weak</i>\n          <i class=\"hover material-icons\">hdr_strong</i>\n        </button>\n      </div>\n    `,\n    styles: [\n      'button { position: relative; margin-bottom: -90px; }', \n      'button i.hover { display: none; }',\n      'button:hover i.hover { display: block; }',\n      'button:hover i.normal { display: none; }'\n    ],\n    directives: [VideoCardItemComponent, VideoCardLoadingComponent, ROUTER_DIRECTIVES, GoTop]\n})\nexport class VideoCardListComponent implements OnInit, OnDestroy, OnChanges, AfterViewInit { \n    isLoading: boolean = false;\n    isInit: boolean = false;\n    sub: any;\n    qsub: any;\n    gsub:any;\n    isLastAutoScroll: boolean = false;\n    initPage:number = 1;\n    mode: string;\n    query: any = {};\n    page: number = 1;\n    rows: number = 12;\n\n    @ViewChild('viewContainer', {read: ViewContainerRef}) \n    viewContainer:any;\n\n    constructor(private metaService: MetaService, private router: Router, private route: ActivatedRoute, private videoService: VideoService, private eventService: EventService, private cmpResolver: ComponentResolver){\n      \n    }\n\n    ngAfterViewInit() {            \n      this.videoService.upgradeDom();\n    }\n\n    ngOnChanges(changes: {[propertyName: string]: SimpleChange}){       \n      this.nextPage(this, () => {\n        this.eventService.emit({com: 'video-card-list', action: 'loaded'});\n      });\n    }\n\n    ngOnInit(){\n      this.gsub = this.eventService.emitter.subscribe((data: any) => {\n        if(data.com === 'video-card-list'){\n          if(data.action === 'append') {            \n            this.page++;\n            this.nextPage(this, () => {\n              this.eventService.emit({com: 'video-card-list', action: 'loaded'});\n              if(this.page > this.initPage && (this.page - this.initPage) % 2 === 0){\n                this.isLastAutoScroll = true;\n                return this.eventService.emit({com: 'video-card-list', action: 'stop'});\n              }              \n            });            \n          }\n        }\n      });\n      this.sub = this.route.params.subscribe((params: any) => {\n        var txtSearch: string = params['txtSearch'];      \n        var keywordId: string =  params['id'];        \n        var title: string;\n        if(txtSearch){\n          this.mode = 'search';\n          this.query.txtSearch = txtSearch;\n          title = txtSearch + '***';\n        }else if(keywordId){\n          this.mode = 'keyword';\n          this.query.keyword = keywordId;\n          var kwidx = this.videoService.keywords.findIndex((e) =>{ return e._id === keywordId; });\n          title = kwidx < 0 ? keywordId : this.videoService.keywords[kwidx].name;\n        }else {          \n          this.mode = params['mode'] || 'newest';          \n          if(this.mode === 'most'){\n            title = 'Clip xem nhiều nhất';\n          }else if(this.mode === 'hot'){\n            title = 'Clip HOT nhất';            \n          }\n        }\n        if(title) setTimeout(() => { this.metaService.setTitle(title); });\n        this.init();\n      });\n      this.qsub = this.router.routerState.queryParams.subscribe((params:any) => {\n        this.initPage = +params.page || 1;\n        this.page = this.initPage;\n        this.isLastAutoScroll = false;\n        this.init();\n      });\n    }\n\n    init() {\n      if(this.isInit) return;      \n      this.isInit = true;\n      setTimeout(() => {\n        this.clearContent(this);\n        this.eventService.emit({com: 'video-card-list', action: 'start'});\n        this.nextPage(this, () => {\n          this.isInit = false;\n          this.eventService.emit({com: 'video-card-list', action: 'loaded'});\n        });\n      }, 100);\n    }\n\n    ngOnDestroy(){\n      this.gsub.unsubscribe();\n      this.qsub.unsubscribe();\n      this.sub.unsubscribe();\n    }\n\n    nextPage(self:VideoCardListComponent, fcDone: any){\n      self.isLoading = true;\n      self.eventService.emit({com: 'page-loading', action: 1});\n      if(self.mode === 'most'){\n        self.videoService.getMostVideos({page: self.page, rows: self.rows}).subscribe((videos: Array<VideoCard>) => {\n          self.drawContent(self, videos, fcDone);\n        }, self.drawError);\n      }else if(self.mode === 'newest'){        \n        self.videoService.getNewestVideos({page: self.page, rows: self.rows}).subscribe((videos: Array<VideoCard>) => {\n          self.drawContent(self, videos, fcDone);\n        }, self.drawError);\n      }else if(self.mode === 'hot'){\n        self.videoService.getHotVideos({page: self.page, rows: self.rows}).subscribe((videos: Array<VideoCard>) => {\n          self.drawContent(self, videos, fcDone);\n        }, self.drawError);\n      }else if(self.mode === 'search'){\n        self.videoService.searchVideos(self.query.txtSearch, {page: self.page, rows: self.rows}).subscribe((videos: Array<VideoCard>) => {\n          self.drawContent(self, videos, fcDone);\n        }, self.drawError);\n      }else if(self.mode === 'keyword'){        \n        self.videoService.getKeywordVideos(self.query.keyword, {page: self.page, rows: self.rows}).subscribe((videos: Array<VideoCard>) => {\n          self.drawContent(self, videos, fcDone);\n        }, self.drawError);\n      }\n    }\n\n    drawError(err: any){\n      console.error(err);\n    }\n\n    clearContent(self: VideoCardListComponent){\n      self.viewContainer.clear();\n    }\n\n    drawContent(self: VideoCardListComponent, videos: Array<VideoCard>, fcDone: any){            \n      if(videos.length === 0) {\n        this.isLoading = undefined;\n        return fcDone();\n      }\n      self.cmpResolver.resolveComponent(VideoCardItemComponent)\n      .then((factory:ComponentFactory<VideoCardItemComponent>) => {\n        var index = self.viewContainer.length;\n        for(var i in videos){\n          var com: ComponentRef<VideoCardItemComponent> = self.viewContainer.createComponent(factory, index++, self.viewContainer.injector);\n          com.instance.item = videos[i];\n        }\n        self.isLoading = false;\n        self.eventService.emit({com: 'page-loading', action: 0});\n        fcDone();        \n      });      \n   }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/videos/video-card-list.component.ts\n **/","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'video-card-loading',\n    template: `\n      <img src=\"/assets/img/loading.gif\" class=\"inner\" />\n    `,\n    host: {\n      '[class.mdl-card]': 'true',\n      '[class.mdl-cell]': 'true',\n      '[class.mdl-cell--4-col]': 'true',\n      '[class.mdl-cell--4-col-tablet]': 'true',\n      '[class.mdl-cell--4-col-phone]': 'true'\n    }\n})\nexport class VideoCardLoadingComponent { \n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/videos/video-card-loading.component.ts\n **/","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { CORE_DIRECTIVES } from '@angular/common';\nimport { ActivatedRoute, Router, ROUTER_DIRECTIVES } from '@angular/router';\n\nimport { VideoRelationListComponent } from './video-relation-list.component';\nimport { FacebookLikeComponent } from '../facebook.component';\nimport { UserFavoriteVideoComponent } from '../user/user-favorite-video.component'; \nimport { EventService } from '../event.service';\nimport { UserService } from '../user.service';\n\n@Component({\n    selector: 'video-page',\n    template: `\n      <div class=\"mdl-grid\">\n        <div class=\"mdl-cell mdl-cell--8-col mdl-cell--8-col-tablet mdl-cell--4-col-phone mdl-cell--top\">                 \n          <router-outlet></router-outlet>\n        </div>\n        <div                class=\"mdl-cell mdl-cell--4-col mdl-cell--8-col-tablet mdl-cell--4-col-phone mdl-cell--top\">\n          <facebook-like *xl class=\"mdl-card\"></facebook-like>\n          <br/>\n          <div class=\"fixed-col\">\n            <user-favorite-video [rows]=\"3\" *ngIf=\"userService.currentUser\"></user-favorite-video>            \n            <video-relation-list [mode]=\"'most'\" [page]=\"1\" [rows]=\"8\"></video-relation-list>\n            <br/>\n            <video-relation-list [mode]=\"'hot'\" [page]=\"1\" [rows]=\"8\"></video-relation-list>\n          </div>\n        </div>\n      </div>\n    `,\n    directives: [VideoRelationListComponent, FacebookLikeComponent, CORE_DIRECTIVES, ROUTER_DIRECTIVES, UserFavoriteVideoComponent]\n})\nexport class VideoPageComponent implements OnInit, OnDestroy { \n\n  constructor(private eventService: EventService, private userService: UserService){\n    \n  }\n\n  ngOnInit() {\n    \n  }\n\n  ngOnDestroy(){\n    this.eventService.emit({com: 'video-card-list', action: 'stop'});    \n  }\n\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/videos/video-page.component.ts\n **/","import { Component, Input } from '@angular/core';\nimport { ROUTER_DIRECTIVES } from '@angular/router';\n\nimport { VideoCard } from '../video.service';\nimport { HowlongPipe } from '../filter.pipe';\n\n@Component({\n    selector: 'video-relation-item',\n    template: `\n      <li class=\"mdl-list__item mdl-list__item--three-line\">\n        <a class=\"mdl-list__item-primary-content nothing\" [routerLink]=\"['/detail', item._id, item.title0 + '#!']\">          \n          <div class=\"img-des\">\n            <img src=\"{{item.image}}\" width=\"100\" class=\"rounded\" *ngIf=\"!item.youtubeid\">\n            <img src=\"http://i.ytimg.com/vi/{{item.youtubeid}}/1.jpg\" width=\"100\" style=\"float: left; margin-right: 5px;\" class=\"rounded\" *ngIf=\"item.youtubeid\">                    \n            <div class=\"howlong\"><i class=\"material-icons dp48\">alarm</i>{{item.duration | HowlongPipe}}</div>\n          </div>\n          <div class=\"main-color title\">{{item.title}}</div>\n          <span class=\"mdl-list__item-text-body des-color\">\n            <i class=\"material-icons dp48\">alarm_on</i> {{item.nowOnTime}}\n          </span>\n        </a>\n      </li>\n    `,\n    pipes: [HowlongPipe],\n    directives: [ROUTER_DIRECTIVES]\n})\nexport class VideoRelationItemComponent { \n  @Input() item: VideoCard;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/videos/video-relation-item.component.ts\n **/","import { Component, Input, OnInit, OnChanges, SimpleChange } from '@angular/core';\n\nimport { VideoCard, VideoService } from '../video.service';\nimport { VideoRelationItemComponent } from './video-relation-item.component';\n\n@Component({\n    selector: 'video-relation-list',\n    template: `\n      <div class=\"mdl-card mdl-shadow--2dp\">\n        <div class=\"mdl-card__title mdl-card--border\">\n          <h6 class=\"mdl-card__title-text\">{{title}}</h6>\n          <div class=\"mdl-layout-spacer\"></div>\n          <i class=\"material-icons mdl-list__item-icon\">videocam</i>\n        </div>\n        <ul class=\"mdl-list\">\n          <video-relation-item style=\"width: 100%\" *ngFor=\"let v of videosRelation\" [item]=\"v\"></video-relation-item>\n        </ul>\n      </div>\n    `,\n    directives: [VideoRelationItemComponent]\n})\nexport class VideoRelationListComponent implements OnInit, OnChanges { \n  @Input() mode: string;\n  @Input() page: number;\n  @Input() rows: number;\n  @Input() query: any = {};\n\n  title: string;\n  videosRelation: VideoCard[] = [];\n  \n  constructor(private videoService: VideoService){\n    \n  }\n\n  ngOnChanges(changes: {[propertyName: string]: SimpleChange}){    \n    if(this.mode === 'relation'){      \n      this.title = 'Video liên quan';\n      this.videoService.getRelateVideos(this.query.id, this.query.keywords, this.query.updateat, {page: this.page, rows: this.rows}).subscribe(\n                       (videos: Array<VideoCard>) => {this.videosRelation = videos;},\n                       error =>  console.error(error));  \n    }\n  }\n\n  ngOnInit(){\n    if(this.mode === 'most'){\n      this.title = 'Video xem nhiều nhất';\n      this.videoService.getMostVideos({page: this.page, rows: this.rows}).subscribe(\n                       (videos: Array<VideoCard>) => {this.videosRelation = videos;},\n                       error =>  console.error(error));\n    }else if(this.mode === 'hot'){\n      this.title = 'Video hot';\n      this.videoService.getHotVideos({page: this.page, rows: this.rows}).subscribe(\n                       (videos: Array<VideoCard>) => {this.videosRelation = videos;},\n                       error =>  console.error(error));\n    }\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./src/app/videos/video-relation-list.component.ts\n **/"],"sourceRoot":""}